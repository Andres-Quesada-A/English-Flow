import type { Unit, Lesson } from '@/lib/types';

const lesson1: Lesson = {
  id: 'b2-u9-l1',
  unitId: 'b2-u9',
  title: 'Review of Defining and Non-defining',
  description: 'Review the difference between defining and non-defining relative clauses',
  order: 1,
  xpReward: 20,
  grammarPoint: 'Defining vs non-defining relative clauses',
  vocabularyWords: ['essential', 'additional', 'restrictive', 'non-restrictive', 'commas', 'specify', 'identify', 'extra information'],
  exercises: [
    {
      id: 'b2-u9-l1-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Which sentence contains a defining relative clause?',
      options: [
        'My sister, who lives in Paris, is a teacher.',
        'The book that I bought yesterday is excellent.',
        'London, which is the capital, is expensive.',
        'My father, who is retired, plays golf.'
      ],
      correctAnswer: 1,
      points: 10,
      explanation: 'Defining relative clauses identify which person/thing we mean and have no commas.',
    },
    {
      id: 'b2-u9-l1-e2',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'Non-defining relative clauses give extra information and are separated by commas.',
      correctAnswer: true,
      points: 10,
      explanation: 'Non-defining clauses add extra information and always use commas.',
    },
    {
      id: 'b2-u9-l1-e3',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'The man ___ lives next door is a doctor.',
      correctAnswer: 'who',
      acceptableAnswers: ['that'],
      points: 10,
      explanation: 'This is a defining relative clause (no commas), so we can use "who" or "that".',
    },
    {
      id: 'b2-u9-l1-e4',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'My car, that I bought last year, is very reliable.',
      correctAnswer: 'My car, which I bought last year, is very reliable.',
      points: 10,
      errorExplanation: 'In non-defining relative clauses (with commas), we must use "which", not "that".',
    },
    {
      id: 'b2-u9-l1-e5',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Which relative pronoun can NOT be used in non-defining clauses?',
      options: ['who', 'which', 'that', 'where'],
      correctAnswer: 2,
      points: 10,
      explanation: '"That" cannot be used in non-defining relative clauses.',
    },
    {
      id: 'b2-u9-l1-e6',
      type: 'categorization',
      instruction: 'Classify these clauses',
      categories: ['Defining', 'Non-defining'],
      items: [
        { text: 'The book which I read was amazing', category: 'Defining' },
        { text: 'My mother, who is 65, still works', category: 'Non-defining' },
        { text: 'People who exercise are healthier', category: 'Defining' },
        { text: 'Paris, which I visited last year, is beautiful', category: 'Non-defining' },
      ],
      points: 10,
    },
    {
      id: 'b2-u9-l1-e7',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'The students ___ studied hard passed the exam.',
      correctAnswer: 'who',
      acceptableAnswers: ['that'],
      points: 10,
    },
    {
      id: 'b2-u9-l1-e8',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['My brother', 'who', 'in London', 'lives', 'is an engineer'],
      correctOrder: [0, 1, 3, 2, 4],
      points: 10,
      explanation: 'Non-defining clause: My brother, who lives in London, is an engineer.',
    },
    {
      id: 'b2-u9-l1-e9',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'I need to return the book ___ I borrowed from the library.',
      options: [', which', 'which', ', that', 'who'],
      correctAnswer: 1,
      points: 10,
      explanation: 'This is a defining clause (identifies which book), so no commas and we use "which" or "that".',
    },
    {
      id: 'b2-u9-l1-e10',
      type: 'matching',
      instruction: 'Match the clause types with their characteristics',
      pairs: [
        { left: 'Defining clause', right: 'Essential information, no commas' },
        { left: 'Non-defining clause', right: 'Extra information, uses commas' },
        { left: 'Defining clause', right: 'Can use "that"' },
        { left: 'Non-defining clause', right: 'Cannot use "that"' },
      ],
      points: 10,
    },
  ],
};

const lesson2: Lesson = {
  id: 'b2-u9-l2',
  unitId: 'b2-u9',
  title: 'Quantifiers: All of Which, Some of Whom',
  description: 'Learn to use quantifiers in relative clauses',
  order: 2,
  xpReward: 20,
  grammarPoint: 'Quantifiers with relative pronouns',
  vocabularyWords: ['all of which', 'some of whom', 'most of which', 'many of whom', 'none of which', 'both of whom', 'several of which', 'few of whom'],
  exercises: [
    {
      id: 'b2-u9-l2-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'She has three children, all of ___ are doctors.',
      options: ['which', 'whom', 'who', 'that'],
      correctAnswer: 1,
      points: 10,
      explanation: 'After "of", we use "whom" for people.',
    },
    {
      id: 'b2-u9-l2-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'I read five books, some of ___ were quite boring.',
      correctAnswer: 'which',
      points: 10,
      explanation: 'After "of", we use "which" for things.',
    },
    {
      id: 'b2-u9-l2-e3',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'He invited 20 guests, most of who came to the party.',
      correctAnswer: 'He invited 20 guests, most of whom came to the party.',
      points: 10,
      errorExplanation: 'After "of", use "whom" not "who" for people.',
    },
    {
      id: 'b2-u9-l2-e4',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['They made', 'suggestions', 'many', 'none of which', 'were practical'],
      correctOrder: [0, 2, 1, 3, 4],
      points: 10,
      explanation: 'They made many suggestions, none of which were practical.',
    },
    {
      id: 'b2-u9-l2-e5',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'We use "whom" after "of" when referring to people.',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u9-l2-e6',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'The company has 50 employees, most of ___ work remotely.',
      correctAnswer: 'whom',
      points: 10,
    },
    {
      id: 'b2-u9-l2-e7',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'She received many gifts, several of ___ she didn\'t like.',
      options: ['that', 'which', 'whom', 'who'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u9-l2-e8',
      type: 'matching',
      instruction: 'Match the sentence halves',
      pairs: [
        { left: 'I have two sisters, both of', right: 'whom live abroad' },
        { left: 'He wrote ten books, all of', right: 'which became bestsellers' },
        { left: 'There were many problems, none of', right: 'which could be solved' },
        { left: 'We interviewed ten candidates, few of', right: 'whom were qualified' },
      ],
      points: 10,
    },
    {
      id: 'b2-u9-l2-e9',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'The team has 15 players, ___ are under 25.',
      options: ['some of whom', 'some of which', 'most of that', 'several of who'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u9-l2-e10',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Vi muchas películas, algunas de las cuales eran aburridas.',
      correctAnswer: 'I watched many films, some of which were boring',
      acceptableAnswers: ['I saw many films, some of which were boring', 'I watched many movies, some of which were boring'],
      points: 10,
    },
  ],
};

const lesson3: Lesson = {
  id: 'b2-u9-l3',
  unitId: 'b2-u9',
  title: 'Which Referring to Whole Clause',
  description: 'Learn how "which" can refer to an entire clause',
  order: 3,
  xpReward: 20,
  grammarPoint: 'Which referring to a whole clause',
  vocabularyWords: ['consequence', 'result', 'outcome', 'situation', 'circumstance', 'fact', 'whole sentence', 'entire clause'],
  exercises: [
    {
      id: 'b2-u9-l3-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'He failed the exam, ___ surprised everyone.',
      options: ['that', 'which', 'what', 'who'],
      correctAnswer: 1,
      points: 10,
      explanation: '"Which" can refer to the whole previous clause (the fact that he failed).',
    },
    {
      id: 'b2-u9-l3-e2',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'When "which" refers to a whole clause, it always comes after a comma.',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u9-l3-e3',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'She won the lottery, ___ changed her life completely.',
      correctAnswer: 'which',
      points: 10,
      explanation: '"Which" refers to the whole fact of winning the lottery.',
    },
    {
      id: 'b2-u9-l3-e4',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'It started raining, that ruined our picnic.',
      correctAnswer: 'It started raining, which ruined our picnic.',
      points: 10,
      errorExplanation: 'Use "which", not "that", to refer to a whole clause.',
    },
    {
      id: 'b2-u9-l3-e5',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'The train was delayed for three hours, ___ made everyone very angry.',
      options: ['that', 'which', 'what', 'it'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u9-l3-e6',
      type: 'matching',
      instruction: 'Match the sentence beginnings with endings',
      pairs: [
        { left: 'He apologized sincerely,', right: 'which pleased me' },
        { left: 'She spoke five languages,', right: 'which impressed the interviewer' },
        { left: 'The meeting was cancelled,', right: 'which annoyed everyone' },
        { left: 'They offered me the job,', right: 'which surprised me' },
      ],
      points: 10,
    },
    {
      id: 'b2-u9-l3-e7',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'The company went bankrupt, ___ led to many job losses.',
      correctAnswer: 'which',
      points: 10,
    },
    {
      id: 'b2-u9-l3-e8',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['She', 'never replied', 'which', 'to my email', 'was very rude'],
      correctOrder: [0, 1, 3, 2, 4],
      points: 10,
      explanation: 'She never replied to my email, which was very rude.',
    },
    {
      id: 'b2-u9-l3-e9',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'In "She quit her job, which shocked her family", what does "which" refer to?',
      options: ['her job', 'her family', 'the fact that she quit', 'the company'],
      correctAnswer: 2,
      points: 10,
    },
    {
      id: 'b2-u9-l3-e10',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Llegaron tarde, lo cual fue muy molesto.',
      correctAnswer: 'They arrived late, which was very annoying',
      acceptableAnswers: ['They were late, which was very annoying'],
      points: 10,
    },
  ],
};

const lesson4: Lesson = {
  id: 'b2-u9-l4',
  unitId: 'b2-u9',
  title: 'Prepositions at the End vs Beginning',
  description: 'Learn formal and informal ways to use prepositions in relative clauses',
  order: 4,
  xpReward: 20,
  grammarPoint: 'Prepositions in relative clauses',
  vocabularyWords: ['formal style', 'informal style', 'preposition placement', 'at the end', 'at the beginning', 'register', 'whom', 'written English'],
  exercises: [
    {
      id: 'b2-u9-l4-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Which is more formal?',
      options: [
        'The person who I work with is nice.',
        'The person with whom I work is nice.',
        'The person I work with is nice.',
        'The person that I work with is nice.'
      ],
      correctAnswer: 1,
      points: 10,
      explanation: 'Preposition + whom at the beginning is formal style.',
    },
    {
      id: 'b2-u9-l4-e2',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'In formal English, we can put prepositions before "which" or "whom".',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u9-l4-e3',
      type: 'fill-blank',
      instruction: 'Complete the sentence (formal)',
      question: 'The company for ___ I work is very large.',
      correctAnswer: 'which',
      points: 10,
      explanation: 'After a preposition in formal style, use "which" for things.',
    },
    {
      id: 'b2-u9-l4-e4',
      type: 'error-correction',
      instruction: 'Find and correct the error (make it formal)',
      sentence: 'The hotel which we stayed at was excellent.',
      correctAnswer: 'The hotel at which we stayed was excellent.',
      points: 10,
      errorExplanation: 'In formal style, put the preposition before "which".',
    },
    {
      id: 'b2-u9-l4-e5',
      type: 'categorization',
      instruction: 'Classify these sentences',
      categories: ['Formal', 'Informal'],
      items: [
        { text: 'The man to whom I spoke was helpful', category: 'Formal' },
        { text: 'The man who I spoke to was helpful', category: 'Informal' },
        { text: 'The house in which they live is old', category: 'Formal' },
        { text: 'The house they live in is old', category: 'Informal' },
      ],
      points: 10,
    },
    {
      id: 'b2-u9-l4-e6',
      type: 'fill-blank',
      instruction: 'Complete the sentence (informal)',
      question: 'The friend ___ I went on holiday with is from Spain.',
      correctAnswer: 'who',
      acceptableAnswers: ['that', 'I'],
      points: 10,
    },
    {
      id: 'b2-u9-l4-e7',
      type: 'matching',
      instruction: 'Match formal sentences with informal versions',
      pairs: [
        { left: 'The pen with which I wrote', right: 'The pen I wrote with' },
        { left: 'The person to whom I spoke', right: 'The person I spoke to' },
        { left: 'The issue about which we argued', right: 'The issue we argued about' },
        { left: 'The chair on which I sat', right: 'The chair I sat on' },
      ],
      points: 10,
    },
    {
      id: 'b2-u9-l4-e8',
      type: 'context-completion',
      instruction: 'Choose the formal version',
      context: 'Which is the formal way to say this?',
      options: [
        'The topic we talked about was interesting.',
        'The topic about which we talked was interesting.',
        'The topic that we talked about was interesting.',
        'The topic which we talked about was interesting.'
      ],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u9-l4-e9',
      type: 'word-order',
      instruction: 'Put the words in the correct order (formal)',
      words: ['The city', 'in', 'which', 'I was born', 'is beautiful'],
      correctOrder: [0, 1, 2, 3, 4],
      points: 10,
      explanation: 'The city in which I was born is beautiful.',
    },
    {
      id: 'b2-u9-l4-e10',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'After a preposition, we use ___ for people in formal English.',
      options: ['who', 'whom', 'that', 'which'],
      correctAnswer: 1,
      points: 10,
    },
  ],
};

const lesson5: Lesson = {
  id: 'b2-u9-l5',
  unitId: 'b2-u9',
  title: 'Reduced Relative Clauses (Participles)',
  description: 'Learn to reduce relative clauses using participles',
  order: 5,
  xpReward: 20,
  grammarPoint: 'Reduced relative clauses overview',
  vocabularyWords: ['participle', 'reduced clause', 'active meaning', 'passive meaning', 'omit', 'concise', 'shortened', 'relative pronoun omission'],
  exercises: [
    {
      id: 'b2-u9-l5-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Which is the reduced form of "People who live in cities"?',
      options: [
        'People lived in cities',
        'People living in cities',
        'People to live in cities',
        'People lives in cities'
      ],
      correctAnswer: 1,
      points: 10,
      explanation: 'We can reduce the clause to "living" (present participle).',
    },
    {
      id: 'b2-u9-l5-e2',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'We can reduce relative clauses by omitting the relative pronoun and using a participle.',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u9-l5-e3',
      type: 'fill-blank',
      instruction: 'Complete the reduced clause',
      question: 'The man ___ (stand) by the door is my teacher.',
      correctAnswer: 'standing',
      points: 10,
      explanation: 'Reduced from "who is standing".',
    },
    {
      id: 'b2-u9-l5-e4',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'The woman which working here is very friendly.',
      correctAnswer: 'The woman working here is very friendly.',
      points: 10,
      errorExplanation: 'In reduced clauses, omit the relative pronoun and "be" verb.',
    },
    {
      id: 'b2-u9-l5-e5',
      type: 'matching',
      instruction: 'Match full clauses with reduced versions',
      pairs: [
        { left: 'The car which is parked outside', right: 'The car parked outside' },
        { left: 'Students who study hard', right: 'Students studying hard' },
        { left: 'The letter that was sent yesterday', right: 'The letter sent yesterday' },
        { left: 'People who live abroad', right: 'People living abroad' },
      ],
      points: 10,
    },
    {
      id: 'b2-u9-l5-e6',
      type: 'context-completion',
      instruction: 'Choose the best reduced form',
      context: 'Books which are written in English → Books ___ in English',
      options: ['writing', 'written', 'to write', 'wrote'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u9-l5-e7',
      type: 'fill-blank',
      instruction: 'Complete the reduced clause',
      question: 'The girl ___ (wear) a red dress is my sister.',
      correctAnswer: 'wearing',
      points: 10,
    },
    {
      id: 'b2-u9-l5-e8',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['The people', 'waiting', 'for the bus', 'were tired'],
      correctOrder: [0, 1, 2, 3],
      points: 10,
    },
    {
      id: 'b2-u9-l5-e9',
      type: 'categorization',
      instruction: 'Classify these clauses',
      categories: ['Present participle (active)', 'Past participle (passive)'],
      items: [
        { text: 'The dog barking loudly', category: 'Present participle (active)' },
        { text: 'The window broken yesterday', category: 'Past participle (passive)' },
        { text: 'People working from home', category: 'Present participle (active)' },
        { text: 'The letter written by John', category: 'Past participle (passive)' },
      ],
      points: 10,
    },
    {
      id: 'b2-u9-l5-e10',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'We can reduce relative clauses that contain:',
      options: [
        'Only present continuous',
        'Only passive voice',
        'A form of "be" + participle',
        'Only past simple'
      ],
      correctAnswer: 2,
      points: 10,
    },
  ],
};

const lesson6: Lesson = {
  id: 'b2-u9-l6',
  unitId: 'b2-u9',
  title: 'Present Participle Clauses',
  description: 'Master present participle clauses for active meanings',
  order: 6,
  xpReward: 20,
  grammarPoint: 'Present participle (-ing) in relative clauses',
  vocabularyWords: ['present participle', 'active voice', 'continuous action', 'simultaneous', 'ongoing', 'progressive', 'dynamic', 'action in progress'],
  exercises: [
    {
      id: 'b2-u9-l6-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'The woman ___ to you is my boss.',
      options: ['talks', 'talking', 'talked', 'to talk'],
      correctAnswer: 1,
      points: 10,
      explanation: 'Present participle "talking" replaces "who is talking".',
    },
    {
      id: 'b2-u9-l6-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'Anyone ___ (want) to join us should sign up now.',
      correctAnswer: 'wanting',
      points: 10,
      explanation: 'Reduced from "who wants" or "who is wanting".',
    },
    {
      id: 'b2-u9-l6-e3',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'The students studied in the library are very focused.',
      correctAnswer: 'The students studying in the library are very focused.',
      points: 10,
      errorExplanation: 'Use present participle "studying" for active meaning.',
    },
    {
      id: 'b2-u9-l6-e4',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['The man', 'carrying', 'a briefcase', 'is my lawyer'],
      correctOrder: [0, 1, 2, 3],
      points: 10,
    },
    {
      id: 'b2-u9-l6-e5',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'Present participle clauses have an active meaning.',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u9-l6-e6',
      type: 'matching',
      instruction: 'Match full clauses with reduced forms',
      pairs: [
        { left: 'People who work here', right: 'People working here' },
        { left: 'The child who is crying', right: 'The child crying' },
        { left: 'Anyone who needs help', right: 'Anyone needing help' },
        { left: 'The dog that was barking', right: 'The dog barking' },
      ],
      points: 10,
    },
    {
      id: 'b2-u9-l6-e7',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'Passengers ___ (travel) to London should go to gate 5.',
      correctAnswer: 'travelling',
      acceptableAnswers: ['traveling'],
      points: 10,
    },
    {
      id: 'b2-u9-l6-e8',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'The company is looking for people ___ three languages.',
      options: ['speak', 'speaking', 'spoken', 'to speak'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u9-l6-e9',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'La gente que vive en esta zona es muy amable.',
      correctAnswer: 'The people living in this area are very friendly',
      acceptableAnswers: ['People living in this area are very friendly'],
      points: 10,
    },
    {
      id: 'b2-u9-l6-e10',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Which sentence uses a present participle clause correctly?',
      options: [
        'The book written by her is excellent.',
        'The students knowing the answer raised their hands.',
        'The letter sent yesterday arrived.',
        'The car repaired last week works.'
      ],
      correctAnswer: 1,
      points: 10,
      explanation: 'Present participle shows active meaning (students know).',
    },
  ],
};

const lesson7: Lesson = {
  id: 'b2-u9-l7',
  unitId: 'b2-u9',
  title: 'Past Participle Clauses',
  description: 'Master past participle clauses for passive meanings',
  order: 7,
  xpReward: 20,
  grammarPoint: 'Past participle (-ed) in relative clauses',
  vocabularyWords: ['past participle', 'passive voice', 'completed action', 'done to', 'affected', 'received action', 'regular verbs', 'irregular verbs'],
  exercises: [
    {
      id: 'b2-u9-l7-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'The letter ___ yesterday has arrived.',
      options: ['sending', 'sent', 'send', 'to send'],
      correctAnswer: 1,
      points: 10,
      explanation: 'Past participle "sent" has passive meaning (the letter was sent).',
    },
    {
      id: 'b2-u9-l7-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'The car ___ (repair) last week is working perfectly.',
      correctAnswer: 'repaired',
      points: 10,
      explanation: 'Past participle shows passive meaning (the car was repaired).',
    },
    {
      id: 'b2-u9-l7-e3',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'The windows breaking during the storm need replacing.',
      correctAnswer: 'The windows broken during the storm need replacing.',
      points: 10,
      errorExplanation: 'Use past participle "broken" for passive meaning (windows were broken).',
    },
    {
      id: 'b2-u9-l7-e4',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'Past participle clauses have a passive meaning.',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u9-l7-e5',
      type: 'matching',
      instruction: 'Match full passive clauses with reduced forms',
      pairs: [
        { left: 'The house which was built in 1900', right: 'The house built in 1900' },
        { left: 'The book that was written by Austen', right: 'The book written by Austen' },
        { left: 'The food which was cooked yesterday', right: 'The food cooked yesterday' },
        { left: 'The car that was stolen last night', right: 'The car stolen last night' },
      ],
      points: 10,
    },
    {
      id: 'b2-u9-l7-e6',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'The products ___ (make) in Germany are excellent.',
      correctAnswer: 'made',
      points: 10,
    },
    {
      id: 'b2-u9-l7-e7',
      type: 'categorization',
      instruction: 'Classify these participle clauses',
      categories: ['Present participle (active)', 'Past participle (passive)'],
      items: [
        { text: 'The girl singing on stage', category: 'Present participle (active)' },
        { text: 'The song sung by the choir', category: 'Past participle (passive)' },
        { text: 'The man driving the bus', category: 'Present participle (active)' },
        { text: 'The bus driven by John', category: 'Past participle (passive)' },
      ],
      points: 10,
    },
    {
      id: 'b2-u9-l7-e8',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['The painting', 'stolen', 'from the museum', 'was valuable'],
      correctOrder: [0, 1, 2, 3],
      points: 10,
    },
    {
      id: 'b2-u9-l7-e9',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'The instructions ___ in the manual are very clear.',
      options: ['giving', 'given', 'give', 'to give'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u9-l7-e10',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Los libros escritos en el siglo XIX son fascinantes.',
      correctAnswer: 'The books written in the 19th century are fascinating',
      acceptableAnswers: ['Books written in the 19th century are fascinating'],
      points: 10,
    },
  ],
};

const lesson8: Lesson = {
  id: 'b2-u9-l8',
  unitId: 'b2-u9',
  title: 'Infinitive Relative Clauses',
  description: 'Learn to use infinitives in relative clauses',
  order: 8,
  xpReward: 20,
  grammarPoint: 'To-infinitive in relative clauses',
  vocabularyWords: ['infinitive', 'purpose', 'possibility', 'necessity', 'future reference', 'potential', 'to be done', 'obligation'],
  exercises: [
    {
      id: 'b2-u9-l8-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'I have a lot of work ___ today.',
      options: ['doing', 'to do', 'done', 'do'],
      correctAnswer: 1,
      points: 10,
      explanation: 'Infinitive relative clause (work that I have to do/can do).',
    },
    {
      id: 'b2-u9-l8-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'She was the first person ___ (arrive) at the meeting.',
      correctAnswer: 'to arrive',
      points: 10,
      explanation: 'After ordinal numbers (first, second, last), use to-infinitive.',
    },
    {
      id: 'b2-u9-l8-e3',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'Infinitive relative clauses often suggest something that needs to be done or can be done.',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u9-l8-e4',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'I need someone helping me with this project.',
      correctAnswer: 'I need someone to help me with this project.',
      points: 10,
      errorExplanation: 'Use to-infinitive to show purpose or necessity.',
    },
    {
      id: 'b2-u9-l8-e5',
      type: 'matching',
      instruction: 'Match the sentence beginnings with endings',
      pairs: [
        { left: 'There are many things', right: 'to see in this city' },
        { left: 'He was the last person', right: 'to leave the party' },
        { left: 'I have some letters', right: 'to write' },
        { left: 'She needs a place', right: 'to stay' },
      ],
      points: 10,
    },
    {
      id: 'b2-u9-l8-e6',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'Is there anything ___ (eat)? I\'m hungry.',
      correctAnswer: 'to eat',
      points: 10,
    },
    {
      id: 'b2-u9-l8-e7',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'Give me something ___ on.',
      options: ['sitting', 'to sit', 'sat', 'sit'],
      correctAnswer: 1,
      points: 10,
      explanation: 'Infinitive shows purpose (something that I can sit on).',
    },
    {
      id: 'b2-u9-l8-e8',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['The best way', 'to learn', 'English', 'is to practice'],
      correctOrder: [0, 1, 2, 3],
      points: 10,
    },
    {
      id: 'b2-u9-l8-e9',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'After superlatives (the best, the most, etc.), we often use:',
      options: ['present participle', 'past participle', 'infinitive', 'gerund'],
      correctAnswer: 2,
      points: 10,
    },
    {
      id: 'b2-u9-l8-e10',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Tengo mucho trabajo que hacer.',
      correctAnswer: 'I have a lot of work to do',
      acceptableAnswers: ['I have much work to do'],
      points: 10,
    },
  ],
};

const lesson9: Lesson = {
  id: 'b2-u9-l9',
  unitId: 'b2-u9',
  title: 'Whose in Complex Structures',
  description: 'Master the use of "whose" in advanced contexts',
  order: 9,
  xpReward: 20,
  grammarPoint: 'Whose for possession in complex clauses',
  vocabularyWords: ['possession', 'ownership', 'belonging to', 'possessive', 'relationship', 'attribute', 'characteristic', 'associated with'],
  exercises: [
    {
      id: 'b2-u9-l9-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'The woman ___ car was stolen reported it to the police.',
      options: ['who', 'which', 'whose', 'whom'],
      correctAnswer: 2,
      points: 10,
      explanation: '"Whose" shows possession (her car).',
    },
    {
      id: 'b2-u9-l9-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'I know a man ___ brother is a famous actor.',
      correctAnswer: 'whose',
      points: 10,
    },
    {
      id: 'b2-u9-l9-e3',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'The student who\'s work is excellent will receive an award.',
      correctAnswer: 'The student whose work is excellent will receive an award.',
      points: 10,
      errorExplanation: '"Whose" (not "who\'s") shows possession.',
    },
    {
      id: 'b2-u9-l9-e4',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: '"Whose" can be used for both people and things.',
      correctAnswer: true,
      points: 10,
      explanation: 'While mainly used for people, "whose" can refer to things too.',
    },
    {
      id: 'b2-u9-l9-e5',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['The company', 'whose products', 'are excellent', 'is very successful'],
      correctOrder: [0, 1, 2, 3],
      points: 10,
    },
    {
      id: 'b2-u9-l9-e6',
      type: 'matching',
      instruction: 'Match the sentence halves',
      pairs: [
        { left: 'The author whose book', right: 'won the prize is here today' },
        { left: 'People whose names', right: 'are on the list can enter' },
        { left: 'The house whose roof', right: 'collapsed was very old' },
        { left: 'Students whose grades', right: 'are high will get scholarships' },
      ],
      points: 10,
    },
    {
      id: 'b2-u9-l9-e7',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'The city ___ population is over 10 million is very crowded.',
      correctAnswer: 'whose',
      points: 10,
    },
    {
      id: 'b2-u9-l9-e8',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'She married a man ___ family owns a large business.',
      options: ['who', 'which', 'whose', 'whom'],
      correctAnswer: 2,
      points: 10,
    },
    {
      id: 'b2-u9-l9-e9',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'In "The girl whose father is a doctor", what does "whose" refer to?',
      options: ['the girl', 'the father', 'the doctor', 'the hospital'],
      correctAnswer: 0,
      points: 10,
      explanation: '"Whose" shows that the father belongs to/is related to the girl.',
    },
    {
      id: 'b2-u9-l9-e10',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'La mujer cuyo hijo es mi amigo vive aquí.',
      correctAnswer: 'The woman whose son is my friend lives here',
      points: 10,
    },
  ],
};

const lesson10: Lesson = {
  id: 'b2-u9-l10',
  unitId: 'b2-u9',
  title: 'What and Whatever',
  description: 'Learn to use "what" and "whatever" in relative structures',
  order: 10,
  xpReward: 20,
  grammarPoint: 'What/whatever as relative pronouns',
  vocabularyWords: ['what', 'whatever', 'the thing which', 'anything that', 'no matter what', 'regardless', 'free relative', 'nominal relative'],
  exercises: [
    {
      id: 'b2-u9-l10-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: '___ you said was very interesting.',
      options: ['That', 'Which', 'What', 'Who'],
      correctAnswer: 2,
      points: 10,
      explanation: '"What" means "the thing(s) which/that".',
    },
    {
      id: 'b2-u9-l10-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'I don\'t understand ___ he wants.',
      correctAnswer: 'what',
      points: 10,
      explanation: '"What" = the thing(s) which/that.',
    },
    {
      id: 'b2-u9-l10-e3',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: '"Whatever" means "anything that" or "no matter what".',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u9-l10-e4',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'That what you need is more practice.',
      correctAnswer: 'What you need is more practice.',
      points: 10,
      errorExplanation: '"What" already includes the antecedent; don\'t use "that what".',
    },
    {
      id: 'b2-u9-l10-e5',
      type: 'matching',
      instruction: 'Match the sentences with their meanings',
      pairs: [
        { left: 'What he said surprised me', right: 'The thing he said surprised me' },
        { left: 'Whatever you want is fine', right: 'Anything you want is fine' },
        { left: 'What I need is time', right: 'The thing I need is time' },
        { left: 'Whatever happens, stay calm', right: 'No matter what happens, stay calm' },
      ],
      points: 10,
    },
    {
      id: 'b2-u9-l10-e6',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: '___ you decide, I will support you.',
      correctAnswer: 'Whatever',
      points: 10,
      explanation: '"Whatever" means "no matter what".',
    },
    {
      id: 'b2-u9-l10-e7',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: '___ she cooked was delicious.',
      options: ['That', 'Which', 'What', 'Who'],
      correctAnswer: 2,
      points: 10,
    },
    {
      id: 'b2-u9-l10-e8',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['What', 'matters most', 'is', 'your health'],
      correctOrder: [0, 1, 2, 3],
      points: 10,
    },
    {
      id: 'b2-u9-l10-e9',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Which is correct?',
      options: [
        'That what I need is help.',
        'What I need is help.',
        'Which I need is help.',
        'Who I need is help.'
      ],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u9-l10-e10',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Lo que dijiste es verdad.',
      correctAnswer: 'What you said is true',
      acceptableAnswers: ['What you said is the truth'],
      points: 10,
    },
  ],
};

const lesson11: Lesson = {
  id: 'b2-u9-l11',
  unitId: 'b2-u9',
  title: 'Whoever, Whichever, Whenever',
  description: 'Master compound relative pronouns',
  order: 11,
  xpReward: 20,
  grammarPoint: 'Compound relative pronouns',
  vocabularyWords: ['whoever', 'whichever', 'whenever', 'wherever', 'however', 'no matter who', 'any person who', 'any time when'],
  exercises: [
    {
      id: 'b2-u9-l11-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: '___ arrives first should start the meeting.',
      options: ['Who', 'Whoever', 'Which', 'Whichever'],
      correctAnswer: 1,
      points: 10,
      explanation: '"Whoever" means "any person who" or "the person who".',
    },
    {
      id: 'b2-u9-l11-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: '___ you choose will be fine.',
      correctAnswer: 'Whichever',
      points: 10,
      explanation: '"Whichever" means "any one that" or "no matter which".',
    },
    {
      id: 'b2-u9-l11-e3',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: '"Whenever" means "at any time when" or "every time that".',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u9-l11-e4',
      type: 'matching',
      instruction: 'Match the compound pronouns with their meanings',
      pairs: [
        { left: 'whoever', right: 'any person who / no matter who' },
        { left: 'whichever', right: 'any one that / no matter which' },
        { left: 'whenever', right: 'any time when / no matter when' },
        { left: 'wherever', right: 'any place where / no matter where' },
      ],
      points: 10,
    },
    {
      id: 'b2-u9-l11-e5',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: '___ needs help should ask the teacher.',
      correctAnswer: 'Whoever',
      points: 10,
    },
    {
      id: 'b2-u9-l11-e6',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'Whatever option you choose will be fine.',
      correctAnswer: 'Whichever option you choose will be fine.',
      points: 10,
      errorExplanation: 'Use "whichever" for choosing between options, "whatever" for things/actions.',
    },
    {
      id: 'b2-u9-l11-e7',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: '___ you go, I will follow you.',
      options: ['Whenever', 'Whoever', 'Wherever', 'Whatever'],
      correctAnswer: 2,
      points: 10,
    },
    {
      id: 'b2-u9-l11-e8',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['Whoever', 'wins', 'the competition', 'will get a prize'],
      correctOrder: [0, 1, 2, 3],
      points: 10,
    },
    {
      id: 'b2-u9-l11-e9',
      type: 'categorization',
      instruction: 'Classify these compound pronouns',
      categories: ['For people', 'For things/choices', 'For time', 'For place'],
      items: [
        { text: 'whoever', category: 'For people' },
        { text: 'whichever', category: 'For things/choices' },
        { text: 'whenever', category: 'For time' },
        { text: 'wherever', category: 'For place' },
      ],
      points: 10,
    },
    {
      id: 'b2-u9-l11-e10',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Quienquiera que sea, dile que estoy ocupado.',
      correctAnswer: 'Whoever it is, tell them I\'m busy',
      acceptableAnswers: ['Whoever it is, tell him I\'m busy', 'Whoever it is, tell her I\'m busy'],
      points: 10,
    },
  ],
};

const lesson12: Lesson = {
  id: 'b2-u9-l12',
  unitId: 'b2-u9',
  title: 'Relative Clauses with Quantifiers',
  description: 'Practice advanced quantifier patterns in relative clauses',
  order: 12,
  xpReward: 20,
  grammarPoint: 'Complex quantifier structures',
  vocabularyWords: ['the majority of which', 'a number of whom', 'the rest of which', 'half of whom', 'a few of which', 'the largest of which', 'many of whom', 'several of which'],
  exercises: [
    {
      id: 'b2-u9-l12-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'The company has 200 employees, the majority of ___ work remotely.',
      options: ['who', 'whom', 'which', 'that'],
      correctAnswer: 1,
      points: 10,
      explanation: 'After "of", use "whom" for people.',
    },
    {
      id: 'b2-u9-l12-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'She owns three houses, the largest of ___ is in London.',
      correctAnswer: 'which',
      points: 10,
    },
    {
      id: 'b2-u9-l12-e3',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['He wrote', 'novels', 'five', 'the best of which', 'won an award'],
      correctOrder: [0, 2, 1, 3, 4],
      points: 10,
      explanation: 'He wrote five novels, the best of which won an award.',
    },
    {
      id: 'b2-u9-l12-e4',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'There were 50 participants, half of who were students.',
      correctAnswer: 'There were 50 participants, half of whom were students.',
      points: 10,
      errorExplanation: 'After "of", use "whom" not "who".',
    },
    {
      id: 'b2-u9-l12-e5',
      type: 'matching',
      instruction: 'Match the quantifier patterns',
      pairs: [
        { left: 'the majority of whom', right: 'most of the people' },
        { left: 'a number of which', right: 'some of the things' },
        { left: 'the rest of whom', right: 'the remaining people' },
        { left: 'half of which', right: '50% of the things' },
      ],
      points: 10,
    },
    {
      id: 'b2-u9-l12-e6',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'I received many applications, a few of ___ were excellent.',
      correctAnswer: 'which',
      points: 10,
    },
    {
      id: 'b2-u9-l12-e7',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'We can use superlatives (the best, the worst) before "of which/whom".',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u9-l12-e8',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'She visited five countries, ___ was Japan.',
      options: ['the most interesting of which', 'the most interesting of whom', 'most interesting which', 'the most interesting that'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u9-l12-e9',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'I spoke to several experts, ___ agreed with me.',
      options: ['the majority of which', 'the majority of whom', 'most of which', 'majority whom'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u9-l12-e10',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Leí varios libros, la mayoría de los cuales fueron aburridos.',
      correctAnswer: 'I read several books, the majority of which were boring',
      acceptableAnswers: ['I read several books, most of which were boring'],
      points: 10,
    },
  ],
};

const lesson13: Lesson = {
  id: 'b2-u9-l13',
  unitId: 'b2-u9',
  title: 'Multiple Relative Clauses',
  description: 'Learn to use multiple relative clauses in one sentence',
  order: 13,
  xpReward: 20,
  grammarPoint: 'Combining multiple relative clauses',
  vocabularyWords: ['nested clauses', 'embedded', 'complex sentence', 'multiple modifiers', 'layered information', 'subordinate', 'dependent clauses', 'chain'],
  exercises: [
    {
      id: 'b2-u9-l13-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'The man ___ daughter is a doctor ___ I met yesterday was very friendly.',
      options: ['whose / who', 'who / whom', 'whose / whom', 'which / who'],
      correctAnswer: 2,
      points: 10,
      explanation: '"Whose" for possession, "whom" as object after "met".',
    },
    {
      id: 'b2-u9-l13-e2',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'We can use multiple relative clauses in one sentence to add layers of information.',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u9-l13-e3',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'The book ___ I read was written by an author ___ lives in France.',
      correctAnswer: 'that',
      acceptableAnswers: ['which'],
      points: 10,
    },
    {
      id: 'b2-u9-l13-e4',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'The house which I bought that was built in 1900 is beautiful.',
      correctAnswer: 'The house which I bought, which was built in 1900, is beautiful.',
      points: 10,
      errorExplanation: 'Use commas to separate the second non-defining clause.',
    },
    {
      id: 'b2-u9-l13-e5',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['The woman', 'who lives next door', 'whose son', 'is my friend', 'is a teacher'],
      correctOrder: [0, 1, 2, 3, 4],
      points: 10,
    },
    {
      id: 'b2-u9-l13-e6',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'I visited the museum ___ my friend recommended, ___ was very interesting.',
      options: ['which / that', 'that / which', 'that / that', 'which / which'],
      correctAnswer: 1,
      points: 10,
      explanation: 'First clause is defining (that), second is non-defining with comma (which).',
    },
    {
      id: 'b2-u9-l13-e7',
      type: 'matching',
      instruction: 'Match the sentence parts',
      pairs: [
        { left: 'The teacher who taught me', right: 'and whose methods were excellent' },
        { left: 'The city where I was born', right: 'and which I still love' },
        { left: 'The book that I bought', right: 'and which won a prize' },
        { left: 'The person whom I admire', right: 'and who inspires me' },
      ],
      points: 10,
    },
    {
      id: 'b2-u9-l13-e8',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'She married a man ___ she met at university and ___ father is a diplomat.',
      correctAnswer: 'whom',
      acceptableAnswers: ['who', 'that'],
      points: 10,
    },
    {
      id: 'b2-u9-l13-e9',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'How many relative clauses are in: "The car that I bought, which was expensive, is very reliable"?',
      options: ['One', 'Two', 'Three', 'Four'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u9-l13-e10',
      type: 'categorization',
      instruction: 'Classify these sentences',
      categories: ['Single relative clause', 'Multiple relative clauses'],
      items: [
        { text: 'The man who lives next door is nice', category: 'Single relative clause' },
        { text: 'The woman who I met, whose name is Mary, is a lawyer', category: 'Multiple relative clauses' },
        { text: 'I like the book that you recommended', category: 'Single relative clause' },
        { text: 'The house which I bought, which is old, needs repairs', category: 'Multiple relative clauses' },
      ],
      points: 10,
    },
  ],
};

const lesson14: Lesson = {
  id: 'b2-u9-l14',
  unitId: 'b2-u9',
  title: 'Common Mistakes',
  description: 'Identify and correct common errors with relative clauses',
  order: 14,
  xpReward: 20,
  grammarPoint: 'Error correction and common pitfalls',
  vocabularyWords: ['double relative', 'missing comma', 'wrong pronoun', 'that vs which', 'who vs whom', 'whose vs who\'s', 'redundant pronoun', 'incorrect placement'],
  exercises: [
    {
      id: 'b2-u9-l14-e1',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'The book that I read it was excellent.',
      correctAnswer: 'The book that I read was excellent.',
      points: 10,
      errorExplanation: 'Don\'t use a redundant pronoun (it) after the relative clause.',
    },
    {
      id: 'b2-u9-l14-e2',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'My friend, that lives in London, is visiting.',
      correctAnswer: 'My friend, who lives in London, is visiting.',
      points: 10,
      errorExplanation: 'In non-defining clauses (with commas), use "who" not "that".',
    },
    {
      id: 'b2-u9-l14-e3',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'The man which I spoke to was helpful.',
      correctAnswer: 'The man who I spoke to was helpful.',
      points: 10,
      errorExplanation: 'Use "who" or "that" for people, not "which".',
    },
    {
      id: 'b2-u9-l14-e4',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'I know the woman who\'s car is red.',
      correctAnswer: 'I know the woman whose car is red.',
      points: 10,
      errorExplanation: '"Whose" shows possession, "who\'s" means "who is".',
    },
    {
      id: 'b2-u9-l14-e5',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'We can say "The house that I live in it is old."',
      correctAnswer: false,
      points: 10,
      explanation: 'Don\'t use redundant pronouns. Say "The house that I live in is old."',
    },
    {
      id: 'b2-u9-l14-e6',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Which sentence is INCORRECT?',
      options: [
        'The man who lives here is my uncle.',
        'My car, which is blue, is very fast.',
        'The book what I read was good.',
        'The woman whose son is a doctor lives nearby.'
      ],
      correctAnswer: 2,
      points: 10,
      explanation: 'Don\'t use "what" with an antecedent. Say "The book that/which I read".',
    },
    {
      id: 'b2-u9-l14-e7',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'She lives in Paris, that is the capital of France.',
      correctAnswer: 'She lives in Paris, which is the capital of France.',
      points: 10,
      errorExplanation: 'In non-defining clauses (with commas), use "which" not "that".',
    },
    {
      id: 'b2-u9-l14-e8',
      type: 'matching',
      instruction: 'Match the errors with corrections',
      pairs: [
        { left: 'The man which I met', right: 'The man who/that I met' },
        { left: 'My friend, that I like', right: 'My friend, who I like' },
        { left: 'The book what I read', right: 'The book that/which I read' },
        { left: 'The woman who\'s car', right: 'The woman whose car' },
      ],
      points: 10,
    },
    {
      id: 'b2-u9-l14-e9',
      type: 'categorization',
      instruction: 'Classify these sentences',
      categories: ['Correct', 'Incorrect'],
      items: [
        { text: 'The house that I bought it is big', category: 'Incorrect' },
        { text: 'The house that I bought is big', category: 'Correct' },
        { text: 'My car, that is red, is fast', category: 'Incorrect' },
        { text: 'My car, which is red, is fast', category: 'Correct' },
      ],
      points: 10,
    },
    {
      id: 'b2-u9-l14-e10',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'The people who I work with them are friendly.',
      correctAnswer: 'The people who I work with are friendly.',
      points: 10,
      errorExplanation: 'Don\'t add a redundant pronoun (them) after the relative clause.',
    },
  ],
};

const lesson15: Lesson = {
  id: 'b2-u9-l15',
  unitId: 'b2-u9',
  title: 'Comprehensive Review',
  description: 'Practice all advanced relative clause structures',
  order: 15,
  xpReward: 20,
  grammarPoint: 'Unit review',
  vocabularyWords: [],
  exercises: [
    {
      id: 'b2-u9-l15-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'The project failed, ___ disappointed everyone.',
      options: ['that', 'which', 'what', 'who'],
      correctAnswer: 1,
      points: 10,
      explanation: '"Which" refers to the whole previous clause.',
    },
    {
      id: 'b2-u9-l15-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'She has two brothers, both of ___ are engineers.',
      correctAnswer: 'whom',
      points: 10,
    },
    {
      id: 'b2-u9-l15-e3',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'The woman working here she is very helpful.',
      correctAnswer: 'The woman working here is very helpful.',
      points: 10,
      errorExplanation: 'Don\'t add a redundant pronoun after a reduced clause.',
    },
    {
      id: 'b2-u9-l15-e4',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['The house', 'in which', 'I was born', 'is now a museum'],
      correctOrder: [0, 1, 2, 3],
      points: 10,
    },
    {
      id: 'b2-u9-l15-e5',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'There\'s a lot of work ___ (do) before the deadline.',
      correctAnswer: 'to do',
      points: 10,
    },
    {
      id: 'b2-u9-l15-e6',
      type: 'matching',
      instruction: 'Match the clause types with examples',
      pairs: [
        { left: 'Defining clause', right: 'The book that I read was good' },
        { left: 'Non-defining clause', right: 'London, which is expensive, is exciting' },
        { left: 'Reduced clause', right: 'People living here are friendly' },
        { left: 'Which + whole clause', right: 'He was late, which annoyed me' },
      ],
      points: 10,
    },
    {
      id: 'b2-u9-l15-e7',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: '___ needs more information should contact me.',
      options: ['Who', 'Whoever', 'Which', 'Whichever'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u9-l15-e8',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'The sentence "The house which I live in it is old" is grammatically correct.',
      correctAnswer: false,
      points: 10,
      explanation: 'Redundant pronoun "it" should be removed.',
    },
    {
      id: 'b2-u9-l15-e9',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'La película que vi ayer, que fue muy aburrida, duró tres horas.',
      correctAnswer: 'The film I saw yesterday, which was very boring, lasted three hours',
      acceptableAnswers: ['The movie I saw yesterday, which was very boring, lasted three hours', 'The film that I saw yesterday, which was very boring, lasted three hours'],
      points: 10,
    },
    {
      id: 'b2-u9-l15-e10',
      type: 'categorization',
      instruction: 'Classify these relative pronouns',
      categories: ['Can be used in defining clauses', 'Can be used in non-defining clauses', 'Cannot be used with commas'],
      items: [
        { text: 'that', category: 'Cannot be used with commas' },
        { text: 'which', category: 'Can be used in both defining and non-defining clauses' },
        { text: 'who', category: 'Can be used in both defining and non-defining clauses' },
        { text: 'whose', category: 'Can be used in both defining and non-defining clauses' },
      ],
      points: 10,
    },
  ],
};

export const unit9: Unit = {
  id: 'b2-u9',
  levelId: 'b2',
  title: 'Advanced Relative Clauses',
  description: 'Master complex relative clause structures and reduced relative clauses',
  order: 9,
  totalLessons: 15,
  icon: '🔗',
  lessons: [
    lesson1,
    lesson2,
    lesson3,
    lesson4,
    lesson5,
    lesson6,
    lesson7,
    lesson8,
    lesson9,
    lesson10,
    lesson11,
    lesson12,
    lesson13,
    lesson14,
    lesson15,
  ],
};
