import type { Unit, Lesson } from '@/lib/types';

const lesson1: Lesson = {
  id: 'b2-u4-l1',
  unitId: 'b2-u4',
  title: 'Introduction: Unreal Past Situations',
  description: 'Learn to talk about imaginary past situations and their hypothetical consequences',
  order: 1,
  xpReward: 20,
  grammarPoint: 'Third conditional: If + past perfect, would have + past participle',
  vocabularyWords: ['hypothetical', 'consequence', 'regret', 'alternative', 'outcome', 'unrealized'],
  exercises: [
    {
      id: 'b2-u4-l1-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'If I had known about the meeting, I ___ attended.',
      options: ['would have', 'will have', 'would', 'had'],
      correctAnswer: 0,
      points: 10,
      explanation: 'Third conditional uses "would have + past participle" in the result clause.',
    },
    {
      id: 'b2-u4-l1-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'If she had studied harder, she ___ passed the exam.',
      correctAnswer: 'would have',
      acceptableAnswers: ['could have', 'might have'],
      points: 10,
    },
    {
      id: 'b2-u4-l1-e3',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'The third conditional describes real situations in the past.',
      correctAnswer: false,
      points: 10,
      explanation: 'The third conditional describes unreal or hypothetical past situations.',
    },
    {
      id: 'b2-u4-l1-e4',
      type: 'matching',
      instruction: 'Match the condition clauses with their results',
      pairs: [
        { left: 'If I had left earlier,', right: 'I would have caught the train.' },
        { left: 'If they had invited me,', right: 'I would have gone to the party.' },
        { left: 'If we had known the truth,', right: 'we would have acted differently.' },
        { left: 'If he had listened to advice,', right: 'he would have avoided problems.' },
      ],
      points: 10,
    },
    {
      id: 'b2-u4-l1-e5',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['If', 'I', 'had known', 'the answer,', 'I', 'would have told', 'you'],
      correctOrder: [0, 1, 2, 3, 4, 5, 6],
      points: 10,
    },
    {
      id: 'b2-u4-l1-e6',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Si hubiera sabido, habría venido.',
      correctAnswer: 'If I had known, I would have come',
      points: 10,
    },
    {
      id: 'b2-u4-l1-e7',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'If I would have known, I would have told you.',
      correctAnswer: 'If I had known, I would have told you.',
      points: 10,
      errorExplanation: 'Use past perfect in the if-clause, not "would have".',
    },
    {
      id: 'b2-u4-l1-e8',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Which time period does the third conditional refer to?',
      options: ['Present', 'Future', 'Past', 'All times'],
      correctAnswer: 2,
      points: 10,
    },
    {
      id: 'b2-u4-l1-e9',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'They ___ (win) if they had played better.',
      correctAnswer: 'would have won',
      acceptableAnswers: ['could have won', 'might have won'],
      points: 10,
    },
    {
      id: 'b2-u4-l1-e10',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'The meeting was yesterday, but I didn\'t know about it. If I had known, I ___.',
      options: ['would go', 'will have gone', 'would have gone', 'had gone'],
      correctAnswer: 2,
      points: 10,
    },
  ],
};

const lesson2: Lesson = {
  id: 'b2-u4-l2',
  unitId: 'b2-u4',
  title: 'Formation: If + Past Perfect, Would Have + Past Participle',
  description: 'Master the structure of third conditional sentences',
  order: 2,
  xpReward: 20,
  grammarPoint: 'Structure: If + had + past participle, would have + past participle',
  vocabularyWords: ['formation', 'clause', 'condition', 'result', 'structure', 'participle'],
  exercises: [
    {
      id: 'b2-u4-l2-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'What verb form follows "if" in the third conditional?',
      options: ['Past simple', 'Past perfect', 'Present perfect', 'Future perfect'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l2-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'If we ___ (arrive) on time, we ___ (see) the beginning.',
      correctAnswer: 'had arrived, would have seen',
      points: 10,
    },
    {
      id: 'b2-u4-l2-e3',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['If', 'she', 'had called', 'me,', 'I', 'would have helped', 'her'],
      correctOrder: [0, 1, 2, 3, 4, 5, 6],
      points: 10,
    },
    {
      id: 'b2-u4-l2-e4',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'The if-clause and result clause can be reversed in third conditional sentences.',
      correctAnswer: true,
      points: 10,
      explanation: 'You can say "I would have helped if she had called" or "If she had called, I would have helped".',
    },
    {
      id: 'b2-u4-l2-e5',
      type: 'matching',
      instruction: 'Match the if-clauses with the correct result clauses',
      pairs: [
        { left: 'If I had saved money,', right: 'I would have bought the car.' },
        { left: 'If they had practiced more,', right: 'they would have won the game.' },
        { left: 'If you had asked me,', right: 'I would have explained it.' },
        { left: 'If he had woken up earlier,', right: 'he would have caught the bus.' },
      ],
      points: 10,
    },
    {
      id: 'b2-u4-l2-e6',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Si hubiéramos estudiado, habríamos aprobado.',
      correctAnswer: 'If we had studied, we would have passed',
      points: 10,
    },
    {
      id: 'b2-u4-l2-e7',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'If I had know, I would have come earlier.',
      correctAnswer: 'If I had known, I would have come earlier.',
      points: 10,
      errorExplanation: 'Use the past participle "known" not the base form "know".',
    },
    {
      id: 'b2-u4-l2-e8',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'She would have succeeded if she ___ (try) harder.',
      correctAnswer: 'had tried',
      points: 10,
    },
    {
      id: 'b2-u4-l2-e9',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'If they ___ the instructions, they ___ the mistake.',
      options: ['had read, wouldn\'t have made', 'read, wouldn\'t make', 'have read, won\'t make', 'would read, hadn\'t made'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u4-l2-e10',
      type: 'categorization',
      instruction: 'Classify these elements',
      categories: ['If-clause (condition)', 'Result clause'],
      items: [
        { text: 'had gone', category: 'If-clause (condition)' },
        { text: 'would have seen', category: 'Result clause' },
        { text: 'had known', category: 'If-clause (condition)' },
        { text: 'would have told', category: 'Result clause' },
      ],
      points: 10,
    },
  ],
};

const lesson3: Lesson = {
  id: 'b2-u4-l3',
  unitId: 'b2-u4',
  title: 'Regrets and Criticism',
  description: 'Express regrets about the past and criticize past actions',
  order: 3,
  xpReward: 20,
  grammarPoint: 'Using third conditional to express regret and criticism',
  vocabularyWords: ['regret', 'criticism', 'mistake', 'disappointment', 'hindsight', 'remorse'],
  exercises: [
    {
      id: 'b2-u4-l3-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'I regret not studying. If I ___ harder, I ___ the exam.',
      options: ['studied, would pass', 'had studied, would have passed', 'study, will pass', 'have studied, would pass'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l3-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'If you had listened to me, you ___ (avoid) this problem.',
      correctAnswer: 'would have avoided',
      acceptableAnswers: ['could have avoided'],
      points: 10,
    },
    {
      id: 'b2-u4-l3-e3',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Si hubiera escuchado tu consejo, no habría cometido ese error.',
      correctAnswer: 'If I had listened to your advice, I wouldn\'t have made that mistake',
      points: 10,
    },
    {
      id: 'b2-u4-l3-e4',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'Third conditional can be used to criticize past decisions.',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u4-l3-e5',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['If', 'he', 'had been', 'more careful,', 'he', 'wouldn\'t have lost', 'his keys'],
      correctOrder: [0, 1, 2, 3, 4, 5, 6],
      points: 10,
    },
    {
      id: 'b2-u4-l3-e6',
      type: 'matching',
      instruction: 'Match the regrets with their consequences',
      pairs: [
        { left: 'If I had saved money,', right: 'I wouldn\'t be broke now.' },
        { left: 'If she had been honest,', right: 'we would still be friends.' },
        { left: 'If they had left earlier,', right: 'they wouldn\'t have missed the flight.' },
        { left: 'If we had checked,', right: 'we wouldn\'t have made this error.' },
      ],
      points: 10,
    },
    {
      id: 'b2-u4-l3-e7',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'If you would have been more careful, this wouldn\'t have happened.',
      correctAnswer: 'If you had been more careful, this wouldn\'t have happened.',
      points: 10,
      errorExplanation: 'Don\'t use "would have" in the if-clause.',
    },
    {
      id: 'b2-u4-l3-e8',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'We ___ (not miss) the train if we had left on time.',
      correctAnswer: 'wouldn\'t have missed',
      points: 10,
    },
    {
      id: 'b2-u4-l3-e9',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'John lost his job because he was late every day. His manager says: "If you ___ on time, you ___ your job."',
      options: ['arrived, would keep', 'had arrived, would have kept', 'arrive, will keep', 'have arrived, kept'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l3-e10',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Which sentence expresses regret?',
      options: ['I will study harder next time.', 'If I had studied, I would have passed.', 'I am studying now.', 'I should study more.'],
      correctAnswer: 1,
      points: 10,
    },
  ],
};

const lesson4: Lesson = {
  id: 'b2-u4-l4',
  unitId: 'b2-u4',
  title: 'Imagining Different Past Outcomes',
  description: 'Explore alternative scenarios and their possible results',
  order: 4,
  xpReward: 20,
  grammarPoint: 'Using third conditional for speculation about the past',
  vocabularyWords: ['speculation', 'alternative', 'scenario', 'possibility', 'different', 'outcome'],
  exercises: [
    {
      id: 'b2-u4-l4-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'If Napoleon had won at Waterloo, history ___ very different.',
      options: ['would be', 'would have been', 'will be', 'is'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l4-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'If they had discovered America earlier, the world ___ (develop) differently.',
      correctAnswer: 'would have developed',
      points: 10,
    },
    {
      id: 'b2-u4-l4-e3',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Si hubiéramos tomado el otro camino, habríamos llegado antes.',
      correctAnswer: 'If we had taken the other route, we would have arrived earlier',
      points: 10,
    },
    {
      id: 'b2-u4-l4-e4',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['If', 'the weather', 'had been', 'better,', 'we', 'would have gone', 'to the beach'],
      correctOrder: [0, 1, 2, 3, 4, 5, 6],
      points: 10,
    },
    {
      id: 'b2-u4-l4-e5',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'Third conditional can be used for historical speculation.',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u4-l4-e6',
      type: 'matching',
      instruction: 'Match the alternative past scenarios',
      pairs: [
        { left: 'If I had studied medicine,', right: 'I would have become a doctor.' },
        { left: 'If we had moved to London,', right: 'our lives would have been different.' },
        { left: 'If she had accepted the job,', right: 'she would be working abroad now.' },
        { left: 'If they had invested in tech,', right: 'they would have made millions.' },
      ],
      points: 10,
    },
    {
      id: 'b2-u4-l4-e7',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'If I would have taken that job, my life would be different now.',
      correctAnswer: 'If I had taken that job, my life would be different now.',
      points: 10,
      errorExplanation: 'Use past perfect in the if-clause, not "would have".',
    },
    {
      id: 'b2-u4-l4-e8',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'Things ___ (turn out) differently if we had made other choices.',
      correctAnswer: 'would have turned out',
      acceptableAnswers: ['could have turned out', 'might have turned out'],
      points: 10,
    },
    {
      id: 'b2-u4-l4-e9',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'Sarah didn\'t buy the house in 2010. Now it\'s worth double. She thinks: "If I ___ it, I ___ a lot of money."',
      options: ['bought, would make', 'had bought, would have made', 'buy, will make', 'have bought, make'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l4-e10',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'If humans hadn\'t invented the internet, communication ___ much slower today.',
      options: ['is', 'would be', 'would have been', 'will be'],
      correctAnswer: 1,
      points: 10,
      explanation: 'When the result affects the present, use "would be" (mixed conditional).',
    },
  ],
};

const lesson5: Lesson = {
  id: 'b2-u4-l5',
  unitId: 'b2-u4',
  title: 'Could Have and Might Have',
  description: 'Use modal verbs to express degrees of possibility in the past',
  order: 5,
  xpReward: 20,
  grammarPoint: 'Could have and might have in third conditional',
  vocabularyWords: ['possibility', 'uncertainty', 'probability', 'perhaps', 'maybe', 'potentially'],
  exercises: [
    {
      id: 'b2-u4-l5-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'If I had tried harder, I ___ succeeded.',
      options: ['would have', 'could have', 'might have', 'all are correct'],
      correctAnswer: 3,
      points: 10,
    },
    {
      id: 'b2-u4-l5-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'She ___ (come) to the party if she hadn\'t been sick.',
      correctAnswer: 'could have come',
      acceptableAnswers: ['might have come', 'would have come'],
      points: 10,
    },
    {
      id: 'b2-u4-l5-e3',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: '"Could have" expresses less certainty than "would have".',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u4-l5-e4',
      type: 'matching',
      instruction: 'Match the levels of certainty',
      pairs: [
        { left: 'would have', right: 'most certain' },
        { left: 'could have', right: 'possible' },
        { left: 'might have', right: 'less certain' },
        { left: 'couldn\'t have', right: 'impossible' },
      ],
      points: 10,
    },
    {
      id: 'b2-u4-l5-e5',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['If', 'I', 'had known,', 'I', 'might have', 'acted', 'differently'],
      correctOrder: [0, 1, 2, 3, 4, 5, 6],
      points: 10,
    },
    {
      id: 'b2-u4-l5-e6',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Si hubiera tenido tiempo, podría haber ido.',
      correctAnswer: 'If I had had time, I could have gone',
      acceptableAnswers: ['If I had had time, I might have gone'],
      points: 10,
    },
    {
      id: 'b2-u4-l5-e7',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'If she had studied, she could pass the exam.',
      correctAnswer: 'If she had studied, she could have passed the exam.',
      points: 10,
      errorExplanation: 'Use "could have + past participle" in the result clause.',
    },
    {
      id: 'b2-u4-l5-e8',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'They ___ (win) if they had played better, but I\'m not sure.',
      correctAnswer: 'might have won',
      acceptableAnswers: ['could have won'],
      points: 10,
    },
    {
      id: 'b2-u4-l5-e9',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'The team lost, but they played well. The coach says: "If we had scored that goal, we ___ the match."',
      options: ['would definitely have won', 'might have won', 'will win', 'won'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l5-e10',
      type: 'categorization',
      instruction: 'Classify these expressions by certainty level',
      categories: ['More certain', 'Less certain'],
      items: [
        { text: 'would have', category: 'More certain' },
        { text: 'might have', category: 'Less certain' },
        { text: 'could have', category: 'Less certain' },
        { text: 'definitely would have', category: 'More certain' },
      ],
      points: 10,
    },
  ],
};

const lesson6: Lesson = {
  id: 'b2-u4-l6',
  unitId: 'b2-u4',
  title: 'If Only and Wish for Past',
  description: 'Express wishes about past situations using alternative structures',
  order: 6,
  xpReward: 20,
  grammarPoint: 'If only + past perfect, I wish + past perfect',
  vocabularyWords: ['wish', 'desire', 'longing', 'regrettable', 'unfortunate', 'lament'],
  exercises: [
    {
      id: 'b2-u4-l6-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'I wish I ___ to the party last night.',
      options: ['went', 'had gone', 'have gone', 'would go'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l6-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'If only I ___ (study) harder for the exam!',
      correctAnswer: 'had studied',
      points: 10,
    },
    {
      id: 'b2-u4-l6-e3',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Ojalá hubiera sabido la verdad.',
      correctAnswer: 'I wish I had known the truth',
      acceptableAnswers: ['If only I had known the truth'],
      points: 10,
    },
    {
      id: 'b2-u4-l6-e4',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: '"I wish I had" and "If only I had" have similar meanings for past regrets.',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u4-l6-e5',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['If only', 'we', 'had listened', 'to', 'the', 'warning'],
      correctOrder: [0, 1, 2, 3, 4, 5],
      points: 10,
    },
    {
      id: 'b2-u4-l6-e6',
      type: 'matching',
      instruction: 'Match the wish structures',
      pairs: [
        { left: 'I wish I had studied', right: 'regret about not studying' },
        { left: 'If only she had called', right: 'regret about her not calling' },
        { left: 'I wish we had gone', right: 'regret about not going' },
        { left: 'If only they had known', right: 'regret about them not knowing' },
      ],
      points: 10,
    },
    {
      id: 'b2-u4-l6-e7',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'I wish I would have seen that movie.',
      correctAnswer: 'I wish I had seen that movie.',
      points: 10,
      errorExplanation: 'Use past perfect after "I wish" for past regrets, not "would have".',
    },
    {
      id: 'b2-u4-l6-e8',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'She wishes she ___ (accept) that job offer.',
      correctAnswer: 'had accepted',
      points: 10,
    },
    {
      id: 'b2-u4-l6-e9',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Which is more emphatic?',
      options: ['I wish I had', 'If only I had', 'Both are equal', 'Neither is emphatic'],
      correctAnswer: 1,
      points: 10,
      explanation: '"If only" is generally more emphatic and emotional than "I wish".',
    },
    {
      id: 'b2-u4-l6-e10',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'John regrets selling his car. He says: "I wish I ___ my car."',
      options: ['didn\'t sell', 'hadn\'t sold', 'won\'t sell', 'don\'t sell'],
      correctAnswer: 1,
      points: 10,
    },
  ],
};

const lesson7: Lesson = {
  id: 'b2-u4-l7',
  unitId: 'b2-u4',
  title: 'Mixed Conditionals Preview',
  description: 'Understand how past conditions can affect present results',
  order: 7,
  xpReward: 20,
  grammarPoint: 'Mixed conditionals: past condition, present result',
  vocabularyWords: ['mixed', 'combination', 'consequence', 'lasting', 'ongoing', 'impact'],
  exercises: [
    {
      id: 'b2-u4-l7-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'If I had saved money, I ___ rich now.',
      options: ['would be', 'would have been', 'will be', 'am'],
      correctAnswer: 0,
      points: 10,
      explanation: 'Mixed conditional: past perfect in if-clause, would + infinitive in result (present result).',
    },
    {
      id: 'b2-u4-l7-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'If she had studied harder, she ___ (have) a better job now.',
      correctAnswer: 'would have',
      points: 10,
    },
    {
      id: 'b2-u4-l7-e3',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'Mixed conditionals connect a past action with a present result.',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u4-l7-e4',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Si hubiera comprado esa casa, sería rico ahora.',
      correctAnswer: 'If I had bought that house, I would be rich now',
      points: 10,
    },
    {
      id: 'b2-u4-l7-e5',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['If', 'they', 'had listened,', 'they', 'wouldn\'t be', 'in trouble', 'now'],
      correctOrder: [0, 1, 2, 3, 4, 5, 6],
      points: 10,
    },
    {
      id: 'b2-u4-l7-e6',
      type: 'matching',
      instruction: 'Match the past actions with present results',
      pairs: [
        { left: 'If I had learned Spanish,', right: 'I could speak it now.' },
        { left: 'If we had invested wisely,', right: 'we would be wealthy now.' },
        { left: 'If she had taken the job,', right: 'she would be living abroad now.' },
        { left: 'If he had quit smoking,', right: 'he would be healthier now.' },
      ],
      points: 10,
    },
    {
      id: 'b2-u4-l7-e7',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'If I had studied medicine, I would have been a doctor now.',
      correctAnswer: 'If I had studied medicine, I would be a doctor now.',
      points: 10,
      errorExplanation: 'Use "would be" (not "would have been") for present results.',
    },
    {
      id: 'b2-u4-l7-e8',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'If we hadn\'t moved here, we ___ (not know) you now.',
      correctAnswer: 'wouldn\'t know',
      points: 10,
    },
    {
      id: 'b2-u4-l7-e9',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'Tom didn\'t go to university. Now he has limited career options. He thinks: "If I ___ to university, I ___ more opportunities now."',
      options: ['went, would have', 'had gone, would have', 'go, will have', 'have gone, have'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l7-e10',
      type: 'categorization',
      instruction: 'Classify these conditionals',
      categories: ['Pure third conditional', 'Mixed conditional'],
      items: [
        { text: 'If I had studied, I would have passed', category: 'Pure third conditional' },
        { text: 'If I had studied, I would be happy now', category: 'Mixed conditional' },
        { text: 'If she had saved money, she would have bought it', category: 'Pure third conditional' },
        { text: 'If we had moved, we would be there now', category: 'Mixed conditional' },
      ],
      points: 10,
    },
  ],
};

const lesson8: Lesson = {
  id: 'b2-u4-l8',
  unitId: 'b2-u4',
  title: 'Unless in Third Conditional',
  description: 'Use "unless" as an alternative to "if not" in third conditional',
  order: 8,
  xpReward: 20,
  grammarPoint: 'Unless + past perfect = if not + past perfect',
  vocabularyWords: ['unless', 'except', 'condition', 'negative', 'alternative', 'otherwise'],
  exercises: [
    {
      id: 'b2-u4-l8-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Unless you had told me, I ___ known.',
      options: ['wouldn\'t have', 'would have', 'hadn\'t', 'had'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u4-l8-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'We wouldn\'t have succeeded unless we ___ (work) together.',
      correctAnswer: 'had worked',
      points: 10,
    },
    {
      id: 'b2-u4-l8-e3',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: '"Unless" means the same as "if not".',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u4-l8-e4',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'No habríamos llegado a menos que hubiéramos tomado un taxi.',
      correctAnswer: 'We wouldn\'t have arrived unless we had taken a taxi',
      points: 10,
    },
    {
      id: 'b2-u4-l8-e5',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['Unless', 'she', 'had helped', 'us,', 'we', 'wouldn\'t have finished', 'on time'],
      correctOrder: [0, 1, 2, 3, 4, 5, 6],
      points: 10,
    },
    {
      id: 'b2-u4-l8-e6',
      type: 'matching',
      instruction: 'Match equivalent sentences',
      pairs: [
        { left: 'Unless he had called', right: 'If he hadn\'t called' },
        { left: 'Unless they had known', right: 'If they hadn\'t known' },
        { left: 'Unless we had tried', right: 'If we hadn\'t tried' },
        { left: 'Unless you had asked', right: 'If you hadn\'t asked' },
      ],
      points: 10,
    },
    {
      id: 'b2-u4-l8-e7',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'Unless I wouldn\'t have seen it, I wouldn\'t have believed it.',
      correctAnswer: 'Unless I had seen it, I wouldn\'t have believed it.',
      points: 10,
      errorExplanation: 'Don\'t use negative with "unless" - it already means "if not".',
    },
    {
      id: 'b2-u4-l8-e8',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'They would have failed unless they ___ (receive) help.',
      correctAnswer: 'had received',
      points: 10,
    },
    {
      id: 'b2-u4-l8-e9',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'The project succeeded because of your support. Without it: "Unless you ___ us, we ___."',
      options: ['helped, would have failed', 'had helped, would have failed', 'help, will fail', 'have helped, failed'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l8-e10',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Which is correct?',
      options: ['Unless I had known, I wouldn\'t have come', 'Unless I hadn\'t known, I would have come', 'Both are correct', 'Neither is correct'],
      correctAnswer: 0,
      points: 10,
    },
  ],
};

const lesson9: Lesson = {
  id: 'b2-u4-l9',
  unitId: 'b2-u4',
  title: 'Inversion: Had I Known...',
  description: 'Use formal inversion in third conditional sentences',
  order: 9,
  xpReward: 20,
  grammarPoint: 'Formal inversion: Had + subject + past participle (without "if")',
  vocabularyWords: ['inversion', 'formal', 'literary', 'emphasis', 'stylistic', 'sophisticated'],
  exercises: [
    {
      id: 'b2-u4-l9-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: '___ I known, I would have come earlier.',
      options: ['If', 'Had', 'Have', 'Would'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l9-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: '___ she studied harder, she would have passed.',
      correctAnswer: 'Had',
      points: 10,
    },
    {
      id: 'b2-u4-l9-e3',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'Inversion with "had" is more formal than using "if".',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u4-l9-e4',
      type: 'matching',
      instruction: 'Match the sentences with inverted equivalents',
      pairs: [
        { left: 'If I had known', right: 'Had I known' },
        { left: 'If she had been there', right: 'Had she been there' },
        { left: 'If they had told us', right: 'Had they told us' },
        { left: 'If we had realized', right: 'Had we realized' },
      ],
      points: 10,
    },
    {
      id: 'b2-u4-l9-e5',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['Had', 'we', 'known', 'the truth,', 'we', 'would have acted', 'differently'],
      correctOrder: [0, 1, 2, 3, 4, 5, 6],
      points: 10,
    },
    {
      id: 'b2-u4-l9-e6',
      type: 'translation',
      instruction: 'Translate to English using inversion',
      question: 'De haber sabido, habría venido.',
      correctAnswer: 'Had I known, I would have come',
      points: 10,
    },
    {
      id: 'b2-u4-l9-e7',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'Had I would have known, I would have told you.',
      correctAnswer: 'Had I known, I would have told you.',
      points: 10,
      errorExplanation: 'After "had" use only the past participle, not "would have".',
    },
    {
      id: 'b2-u4-l9-e8',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: '___ they arrived on time, they would have caught the train.',
      correctAnswer: 'Had',
      points: 10,
    },
    {
      id: 'b2-u4-l9-e9',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'For a formal letter: "___ you informed us earlier, we could have made arrangements."',
      options: ['If', 'Had', 'Would', 'Should'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l9-e10',
      type: 'categorization',
      instruction: 'Classify these by formality level',
      categories: ['More formal', 'Less formal'],
      items: [
        { text: 'Had I known', category: 'More formal' },
        { text: 'If I had known', category: 'Less formal' },
        { text: 'Had she been there', category: 'More formal' },
        { text: 'If she had been there', category: 'Less formal' },
      ],
      points: 10,
    },
  ],
};

const lesson10: Lesson = {
  id: 'b2-u4-l10',
  unitId: 'b2-u4',
  title: 'Contractions: Would\'ve, Could\'ve',
  description: 'Learn and use contractions in third conditional',
  order: 10,
  xpReward: 20,
  grammarPoint: 'Contractions in spoken and informal written English',
  vocabularyWords: ['contraction', 'informal', 'spoken', 'casual', 'shortened', 'colloquial'],
  exercises: [
    {
      id: 'b2-u4-l10-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'What does "would\'ve" mean?',
      options: ['would of', 'would have', 'would be', 'would'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l10-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence with a contraction',
      question: 'If I had known, I ___ told you. (would have)',
      correctAnswer: 'would\'ve',
      acceptableAnswers: ['would have'],
      points: 10,
    },
    {
      id: 'b2-u4-l10-e3',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'Writing "would of" is correct in formal English.',
      correctAnswer: false,
      points: 10,
      explanation: 'It\'s always "would have" or "would\'ve", never "would of".',
    },
    {
      id: 'b2-u4-l10-e4',
      type: 'matching',
      instruction: 'Match the contractions with full forms',
      pairs: [
        { left: 'would\'ve', right: 'would have' },
        { left: 'could\'ve', right: 'could have' },
        { left: 'might\'ve', right: 'might have' },
        { left: 'should\'ve', right: 'should have' },
      ],
      points: 10,
    },
    {
      id: 'b2-u4-l10-e5',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['I', 'could\'ve', 'helped', 'if', 'you\'d', 'asked', 'me'],
      correctOrder: [0, 1, 2, 3, 4, 5, 6],
      points: 10,
    },
    {
      id: 'b2-u4-l10-e6',
      type: 'translation',
      instruction: 'Translate to English using contractions',
      question: 'Podría haber venido si hubiera sabido.',
      correctAnswer: 'I could\'ve come if I\'d known',
      acceptableAnswers: ['I could have come if I had known'],
      points: 10,
    },
    {
      id: 'b2-u4-l10-e7',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'She would of come if she had known.',
      correctAnswer: 'She would\'ve come if she had known.',
      points: 10,
      errorExplanation: 'Never write "would of" - use "would\'ve" or "would have".',
    },
    {
      id: 'b2-u4-l10-e8',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'They ___ (could have) won if they had played better.',
      correctAnswer: 'could\'ve',
      acceptableAnswers: ['could have'],
      points: 10,
    },
    {
      id: 'b2-u4-l10-e9',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'In casual conversation: "I ___ helped you if I\'d known you needed it."',
      options: ['would\'ve', 'would of', 'will have', 'would'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u4-l10-e10',
      type: 'categorization',
      instruction: 'Classify these forms',
      categories: ['Correct', 'Incorrect'],
      items: [
        { text: 'would\'ve', category: 'Correct' },
        { text: 'would of', category: 'Incorrect' },
        { text: 'could\'ve', category: 'Correct' },
        { text: 'should of', category: 'Incorrect' },
      ],
      points: 10,
    },
  ],
};

const lesson11: Lesson = {
  id: 'b2-u4-l11',
  unitId: 'b2-u4',
  title: 'Common Mistakes',
  description: 'Identify and correct typical errors in third conditional',
  order: 11,
  xpReward: 20,
  grammarPoint: 'Common errors and how to avoid them',
  vocabularyWords: ['error', 'mistake', 'correction', 'common', 'typical', 'frequent'],
  exercises: [
    {
      id: 'b2-u4-l11-e1',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'If I would have known, I would have told you.',
      correctAnswer: 'If I had known, I would have told you.',
      points: 10,
      errorExplanation: 'Never use "would have" in the if-clause.',
    },
    {
      id: 'b2-u4-l11-e2',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'If I had knew, I would have come.',
      correctAnswer: 'If I had known, I would have come.',
      points: 10,
      errorExplanation: 'Use past participle "known" not past simple "knew".',
    },
    {
      id: 'b2-u4-l11-e3',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Which is WRONG?',
      options: ['If I had known', 'If I would have known', 'Had I known', 'If I\'d known'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l11-e4',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'You can use "would have" in both clauses of a third conditional.',
      correctAnswer: false,
      points: 10,
      explanation: 'Never use "would have" in the if-clause.',
    },
    {
      id: 'b2-u4-l11-e5',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'If she studied harder, she would have passed.',
      correctAnswer: 'If she had studied harder, she would have passed.',
      points: 10,
      errorExplanation: 'Use past perfect "had studied" not past simple "studied".',
    },
    {
      id: 'b2-u4-l11-e6',
      type: 'matching',
      instruction: 'Match the errors with corrections',
      pairs: [
        { left: 'If I would have seen', right: 'If I had seen' },
        { left: 'If I had knew', right: 'If I had known' },
        { left: 'I would come', right: 'I would have come' },
        { left: 'would of', right: 'would have' },
      ],
      points: 10,
    },
    {
      id: 'b2-u4-l11-e7',
      type: 'fill-blank',
      instruction: 'Complete the sentence correctly',
      question: 'If they ___ (arrive) earlier, they would have seen it.',
      correctAnswer: 'had arrived',
      points: 10,
    },
    {
      id: 'b2-u4-l11-e8',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'If we had more time, we would have finished.',
      correctAnswer: 'If we had had more time, we would have finished.',
      points: 10,
      errorExplanation: 'Use past perfect "had had" for past situations.',
    },
    {
      id: 'b2-u4-l11-e9',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'Which sentence is correct?',
      options: ['If I would have known, I would have told you.', 'If I had known, I would have told you.', 'If I had known, I would tell you.', 'If I have known, I would have told you.'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l11-e10',
      type: 'categorization',
      instruction: 'Classify these sentences',
      categories: ['Correct', 'Incorrect'],
      items: [
        { text: 'If I had known', category: 'Correct' },
        { text: 'If I would have known', category: 'Incorrect' },
        { text: 'I would have gone', category: 'Correct' },
        { text: 'If I had went', category: 'Incorrect' },
      ],
      points: 10,
    },
  ],
};

const lesson12: Lesson = {
  id: 'b2-u4-l12',
  unitId: 'b2-u4',
  title: 'Without and But For',
  description: 'Use alternative expressions for third conditional',
  order: 12,
  xpReward: 20,
  grammarPoint: 'Without/But for + noun = If it hadn\'t been for',
  vocabularyWords: ['without', 'but for', 'thanks to', 'owing to', 'due to', 'because of'],
  exercises: [
    {
      id: 'b2-u4-l12-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Without your help, I ___ succeeded.',
      options: ['wouldn\'t have', 'won\'t have', 'wouldn\'t', 'hadn\'t'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u4-l12-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'But for the rain, we ___ (go) to the beach.',
      correctAnswer: 'would have gone',
      acceptableAnswers: ['could have gone'],
      points: 10,
    },
    {
      id: 'b2-u4-l12-e3',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: '"But for" is more formal than "without".',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u4-l12-e4',
      type: 'matching',
      instruction: 'Match equivalent expressions',
      pairs: [
        { left: 'Without your help', right: 'If you hadn\'t helped' },
        { left: 'But for the delay', right: 'If there hadn\'t been a delay' },
        { left: 'Without the accident', right: 'If the accident hadn\'t happened' },
        { left: 'But for his support', right: 'If he hadn\'t supported us' },
      ],
      points: 10,
    },
    {
      id: 'b2-u4-l12-e5',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['Without', 'his', 'advice,', 'I', 'would have', 'made', 'a mistake'],
      correctOrder: [0, 1, 2, 3, 4, 5, 6],
      points: 10,
    },
    {
      id: 'b2-u4-l12-e6',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Sin tu ayuda, no habría podido hacerlo.',
      correctAnswer: 'Without your help, I wouldn\'t have been able to do it',
      acceptableAnswers: ['But for your help, I couldn\'t have done it'],
      points: 10,
    },
    {
      id: 'b2-u4-l12-e7',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'Without the map, we wouldn\'t find the place.',
      correctAnswer: 'Without the map, we wouldn\'t have found the place.',
      points: 10,
      errorExplanation: 'Use "wouldn\'t have found" for past situations.',
    },
    {
      id: 'b2-u4-l12-e8',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: '___ your warning, we would have made a big mistake.',
      correctAnswer: 'Without',
      acceptableAnswers: ['But for'],
      points: 10,
    },
    {
      id: 'b2-u4-l12-e9',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'The team succeeded because of the coach. "___ the coach, the team wouldn\'t have won."',
      options: ['With', 'Without', 'Because', 'Thanks'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l12-e10',
      type: 'categorization',
      instruction: 'Classify these by formality',
      categories: ['More formal', 'Less formal'],
      items: [
        { text: 'But for', category: 'More formal' },
        { text: 'Without', category: 'Less formal' },
        { text: 'If it hadn\'t been for', category: 'Less formal' },
        { text: 'But for the fact that', category: 'More formal' },
      ],
      points: 10,
    },
  ],
};

const lesson13: Lesson = {
  id: 'b2-u4-l13',
  unitId: 'b2-u4',
  title: 'Expressing Relief',
  description: 'Use third conditional to express relief about what didn\'t happen',
  order: 13,
  xpReward: 20,
  grammarPoint: 'Fortunately/Luckily + third conditional for relief',
  vocabularyWords: ['fortunately', 'luckily', 'thankfully', 'relief', 'grateful', 'blessing'],
  exercises: [
    {
      id: 'b2-u4-l13-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Fortunately, I left early. If I hadn\'t, I ___ the accident.',
      options: ['would see', 'would have seen', 'will see', 'saw'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l13-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'Luckily we had insurance. If we hadn\'t, we ___ (lose) everything.',
      correctAnswer: 'would have lost',
      points: 10,
    },
    {
      id: 'b2-u4-l13-e3',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Por suerte llegué a tiempo. Si no, habría perdido el tren.',
      correctAnswer: 'Luckily I arrived on time. If I hadn\'t, I would have missed the train',
      points: 10,
    },
    {
      id: 'b2-u4-l13-e4',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'Third conditional can express relief about avoided problems.',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u4-l13-e5',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['Thankfully,', 'I', 'checked', 'or', 'I', 'would have', 'missed it'],
      correctOrder: [0, 1, 2, 3, 4, 5, 6],
      points: 10,
    },
    {
      id: 'b2-u4-l13-e6',
      type: 'matching',
      instruction: 'Match the relief expressions',
      pairs: [
        { left: 'Fortunately I had a spare key', right: 'or I would have been locked out' },
        { left: 'Luckily someone warned us', right: 'or we would have made a mistake' },
        { left: 'Thankfully we had insurance', right: 'or we would have lost everything' },
        { left: 'Fortunately the doctor arrived', right: 'or he might have died' },
      ],
      points: 10,
    },
    {
      id: 'b2-u4-l13-e7',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'Luckily I checked, or I will have made a mistake.',
      correctAnswer: 'Luckily I checked, or I would have made a mistake.',
      points: 10,
      errorExplanation: 'Use "would have" for hypothetical past results.',
    },
    {
      id: 'b2-u4-l13-e8',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'Fortunately we brought umbrellas, or we ___ (get) soaked.',
      correctAnswer: 'would have got',
      acceptableAnswers: ['would have gotten'],
      points: 10,
    },
    {
      id: 'b2-u4-l13-e9',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'Sarah backed up her files yesterday. Today her computer crashed. She says: "Luckily I backed up my files, or I ___."',
      options: ['will lose everything', 'would lose everything', 'would have lost everything', 'had lost everything'],
      correctAnswer: 2,
      points: 10,
    },
    {
      id: 'b2-u4-l13-e10',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Which word expresses relief?',
      options: ['Unfortunately', 'Sadly', 'Luckily', 'Regrettably'],
      correctAnswer: 2,
      points: 10,
    },
  ],
};

const lesson14: Lesson = {
  id: 'b2-u4-l14',
  unitId: 'b2-u4',
  title: 'Past Hypothetical Questions',
  description: 'Form questions using third conditional',
  order: 14,
  xpReward: 20,
  grammarPoint: 'Question formation in third conditional',
  vocabularyWords: ['question', 'inquiry', 'wonder', 'curious', 'hypothetical', 'possibility'],
  exercises: [
    {
      id: 'b2-u4-l14-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'What ___ if you had won the lottery?',
      options: ['would you do', 'would you have done', 'will you do', 'did you do'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l14-e2',
      type: 'fill-blank',
      instruction: 'Complete the question',
      question: 'Where ___ you ___ if you had left your country?',
      correctAnswer: 'would, have gone',
      points: 10,
    },
    {
      id: 'b2-u4-l14-e3',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['What', 'would', 'you', 'have done', 'if', 'you\'d', 'known'],
      correctOrder: [0, 1, 2, 3, 4, 5, 6],
      points: 10,
    },
    {
      id: 'b2-u4-l14-e4',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'In third conditional questions, "would" comes before the subject.',
      correctAnswer: true,
      points: 10,
    },
    {
      id: 'b2-u4-l14-e5',
      type: 'translation',
      instruction: 'Translate to English',
      question: '¿Qué habrías hecho si hubieras sabido?',
      correctAnswer: 'What would you have done if you had known',
      points: 10,
    },
    {
      id: 'b2-u4-l14-e6',
      type: 'matching',
      instruction: 'Match questions with appropriate answers',
      pairs: [
        { left: 'What would you have done?', right: 'I would have left.' },
        { left: 'Where would you have gone?', right: 'To Paris.' },
        { left: 'Who would you have called?', right: 'My parents.' },
        { left: 'When would you have left?', right: 'Immediately.' },
      ],
      points: 10,
    },
    {
      id: 'b2-u4-l14-e7',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'What you would have done if you had known?',
      correctAnswer: 'What would you have done if you had known?',
      points: 10,
      errorExplanation: 'In questions, "would" comes before the subject.',
    },
    {
      id: 'b2-u4-l14-e8',
      type: 'fill-blank',
      instruction: 'Complete the question',
      question: 'How ___ he ___ if he had been there?',
      correctAnswer: 'would, have reacted',
      points: 10,
    },
    {
      id: 'b2-u4-l14-e9',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'You want to ask about a hypothetical past situation: "___ you ___ differently if you had known?"',
      options: ['Would, act', 'Would, have acted', 'Will, have acted', 'Did, act'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l14-e10',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Which is correct?',
      options: ['What would you done?', 'What would you have done?', 'What you would have done?', 'What would you do have?'],
      correctAnswer: 1,
      points: 10,
    },
  ],
};

const lesson15: Lesson = {
  id: 'b2-u4-l15',
  unitId: 'b2-u4',
  title: 'Comprehensive Review',
  description: 'Review all aspects of third conditional',
  order: 15,
  xpReward: 30,
  grammarPoint: 'Third conditional comprehensive review',
  vocabularyWords: ['comprehensive', 'review', 'consolidation', 'practice', 'mastery', 'proficiency'],
  exercises: [
    {
      id: 'b2-u4-l15-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'If I ___ about the meeting, I ___ attended.',
      options: ['knew, would attend', 'had known, would have attended', 'know, will attend', 'have known, would attend'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l15-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'She wishes she ___ (take) that opportunity when she had the chance.',
      correctAnswer: 'had taken',
      points: 10,
    },
    {
      id: 'b2-u4-l15-e3',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'If they would have practiced more, they would have won.',
      correctAnswer: 'If they had practiced more, they would have won.',
      points: 10,
      errorExplanation: 'Never use "would have" in the if-clause.',
    },
    {
      id: 'b2-u4-l15-e4',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'De haber sabido la verdad, habría actuado diferente.',
      correctAnswer: 'Had I known the truth, I would have acted differently',
      acceptableAnswers: ['If I had known the truth, I would have acted differently'],
      points: 10,
    },
    {
      id: 'b2-u4-l15-e5',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['Without', 'your', 'help,', 'we', 'wouldn\'t have', 'succeeded'],
      correctOrder: [0, 1, 2, 3, 4, 5],
      points: 10,
    },
    {
      id: 'b2-u4-l15-e6',
      type: 'matching',
      instruction: 'Match the sentence types',
      pairs: [
        { left: 'If I had saved money, I would have bought it', right: 'Third conditional' },
        { left: 'If I had saved money, I would be rich now', right: 'Mixed conditional' },
        { left: 'Had I known, I would have told you', right: 'Inverted conditional' },
        { left: 'Unless I had seen it, I wouldn\'t have believed it', right: 'Unless conditional' },
      ],
      points: 10,
    },
    {
      id: 'b2-u4-l15-e7',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'Luckily we checked, or we ___ (make) a terrible mistake.',
      correctAnswer: 'would have made',
      acceptableAnswers: ['could have made', 'might have made'],
      points: 10,
    },
    {
      id: 'b2-u4-l15-e8',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Which is more formal?',
      options: ['If I had known', 'Had I known', 'If I\'d known', 'All are equal'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l15-e9',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'Third conditional describes real past situations that actually happened.',
      correctAnswer: false,
      points: 10,
      explanation: 'Third conditional describes imaginary or hypothetical past situations.',
    },
    {
      id: 'b2-u4-l15-e10',
      type: 'context-completion',
      instruction: 'Choose the best option for the context',
      context: 'Complete with the most appropriate form: "What ___ if you had been in my position?"',
      options: ['would you do', 'would you have done', 'will you have done', 'did you do'],
      correctAnswer: 1,
      points: 10,
    },
    {
      id: 'b2-u4-l15-e11',
      type: 'categorization',
      instruction: 'Classify these by correctness',
      categories: ['Correct', 'Incorrect'],
      items: [
        { text: 'If I had known', category: 'Correct' },
        { text: 'If I would have known', category: 'Incorrect' },
        { text: 'would\'ve', category: 'Correct' },
        { text: 'would of', category: 'Incorrect' },
      ],
      points: 10,
    },
    {
      id: 'b2-u4-l15-e12',
      type: 'dialogue-completion',
      instruction: 'Complete the dialogue',
      dialogue: [
        { speaker: 'A', text: 'Do you regret not taking that job?' },
        { speaker: 'B', text: 'Yes, if I had taken it, I would be earning more now.', isBlank: true },
      ],
      options: ['Yes, if I had taken it, I would be earning more now.', 'Yes, I take it now.', 'Yes, I would take it.', 'Yes, if I take it, I will earn more.'],
      correctAnswer: 0,
      points: 10,
    },
  ],
};

export const unit4: Unit = {
  id: 'b2-u4',
  levelId: 'b2',
  title: 'Third Conditional',
  description: 'Talk about imaginary past situations and their hypothetical results',
  order: 4,
  totalLessons: 15,
  icon: '🔄',
  lessons: [
    lesson1,
    lesson2,
    lesson3,
    lesson4,
    lesson5,
    lesson6,
    lesson7,
    lesson8,
    lesson9,
    lesson10,
    lesson11,
    lesson12,
    lesson13,
    lesson14,
    lesson15,
  ],
};
