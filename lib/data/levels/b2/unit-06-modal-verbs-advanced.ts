import type { Unit, Lesson } from '@/lib/types';

const lesson1: Lesson = {
  id: 'b2-u6-l1',
  unitId: 'b2-u6',
  title: 'Must have - Past Deduction (Certainty)',
  description: 'Learn to express certainty about past events using must have',
  order: 1,
  xpReward: 20,
  grammarPoint: 'must have + past participle = I\'m certain this happened',
  vocabularyWords: ['must have', 'certain', 'sure', 'obvious', 'clearly', 'definitely', 'deduction', 'conclusion'],
  exercises: [
    {
      id: 'b2-u6-l1-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'What does "must have + past participle" express?',
      options: ['Certainty about the past', 'Obligation in the past', 'Permission in the past', 'Possibility in the past'],
      correctAnswer: 0,
      points: 10,
      explanation: '"Must have" expresses a strong deduction or certainty about past events.',
    },
    {
      id: 'b2-u6-l1-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'He\'s not answering his phone. He ___ ___ left already. (must / leave)',
      correctAnswer: 'must have',
      points: 10,
    },
    {
      id: 'b2-u6-l1-e3',
      type: 'multiple-choice',
      instruction: 'Select the correct sentence',
      question: 'Which sentence shows certainty about the past?',
      options: ['She must have forgotten the meeting.', 'She might have forgotten the meeting.', 'She could have forgotten the meeting.', 'She may have forgotten the meeting.'],
      correctAnswer: 0,
      points: 10,
      explanation: '"Must have" shows the highest degree of certainty.',
    },
    {
      id: 'b2-u6-l1-e4',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'The door is open. Someone ___ ___ ___ to close it. (must / forget)',
      correctAnswer: 'must have forgotten',
      points: 10,
    },
    {
      id: 'b2-u6-l1-e5',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Debe haber sido difícil.',
      correctAnswer: 'It must have been difficult',
      points: 10,
    },
    {
      id: 'b2-u6-l1-e6',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['must', 'have', 'They', 'the', 'missed', 'train'],
      correctOrder: [2, 0, 1, 4, 3, 5],
      points: 10,
    },
    {
      id: 'b2-u6-l1-e7',
      type: 'context-completion',
      instruction: 'Choose the best option',
      context: 'Look at all those bags! She ___ a lot of money.',
      options: ['must have spent', 'might have spent', 'could have spent', 'may have spent'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l1-e8',
      type: 'dialogue-completion',
      instruction: 'Complete the conversation',
      dialogue: [
        { speaker: 'A', text: 'John looks exhausted.' },
        { speaker: 'B', text: 'He ___ all night.', isBlank: true },
      ],
      options: ['must have worked', 'might have worked', 'could have worked', 'may have worked'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l1-e9',
      type: 'matching',
      instruction: 'Match the situations with logical deductions',
      pairs: [
        { left: 'The ground is wet.', right: 'It must have rained.' },
        { left: 'She\'s crying.', right: 'She must have heard bad news.' },
        { left: 'He\'s sunburned.', right: 'He must have been at the beach.' },
        { left: 'The car won\'t start.', right: 'The battery must have died.' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l1-e10',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'He must has been very tired yesterday.',
      correctAnswer: 'He must have been very tired yesterday.',
      points: 10,
      errorExplanation: 'Use "must have + past participle", not "must has".',
    },
  ],
};

const lesson2: Lesson = {
  id: 'b2-u6-l2',
  unitId: 'b2-u6',
  title: 'Can\'t have - Past Deduction (Impossibility)',
  description: 'Express impossibility or strong disbelief about past events',
  order: 2,
  xpReward: 20,
  grammarPoint: 'can\'t have + past participle = I\'m certain this didn\'t happen',
  vocabularyWords: ['can\'t have', 'couldn\'t have', 'impossible', 'no way', 'disbelief', 'certainly not', 'implausible'],
  exercises: [
    {
      id: 'b2-u6-l2-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'What does "can\'t have + past participle" express?',
      options: ['Impossibility about the past', 'Ability in the past', 'Permission in the past', 'Suggestion about the past'],
      correctAnswer: 0,
      points: 10,
      explanation: '"Can\'t have" expresses certainty that something didn\'t happen.',
    },
    {
      id: 'b2-u6-l2-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'She ___ ___ ___ the exam. She barely studied! (can\'t / pass)',
      correctAnswer: 'can\'t have passed',
      points: 10,
    },
    {
      id: 'b2-u6-l2-e3',
      type: 'multiple-choice',
      instruction: 'Select the correct sentence',
      question: 'Which sentence expresses impossibility?',
      options: ['He can\'t have finished already.', 'He might have finished already.', 'He must have finished already.', 'He should have finished already.'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l2-e4',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'No puede haber llegado todavía.',
      correctAnswer: 'He can\'t have arrived yet',
      acceptableAnswers: ['She can\'t have arrived yet'],
      points: 10,
    },
    {
      id: 'b2-u6-l2-e5',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['can\'t', 'have', 'You', 'all', 'eaten', 'that'],
      correctOrder: [2, 0, 1, 4, 3, 5],
      points: 10,
    },
    {
      id: 'b2-u6-l2-e6',
      type: 'categorization',
      instruction: 'Classify these sentences',
      categories: ['Certainty it happened (must have)', 'Certainty it didn\'t happen (can\'t have)'],
      items: [
        { text: 'He must have won the lottery.', category: 'Certainty it happened (must have)' },
        { text: 'She can\'t have forgotten me.', category: 'Certainty it didn\'t happen (can\'t have)' },
        { text: 'They must have missed the bus.', category: 'Certainty it happened (must have)' },
        { text: 'It can\'t have been easy.', category: 'Certainty it didn\'t happen (can\'t have)' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l2-e7',
      type: 'context-completion',
      instruction: 'Choose the best option',
      context: 'The restaurant is always fully booked. They ___ many customers.',
      options: ['can\'t have lost', 'must have lost', 'might have lost', 'could have lost'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l2-e8',
      type: 'dialogue-completion',
      instruction: 'Complete the conversation',
      dialogue: [
        { speaker: 'A', text: 'I think Tom stole my phone.' },
        { speaker: 'B', text: 'No way! He ___ that. He\'s your best friend.', isBlank: true },
      ],
      options: ['can\'t have done', 'must have done', 'might have done', 'could have done'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l2-e9',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'She can\'t has been there. I saw her here.',
      correctAnswer: 'She can\'t have been there. I saw her here.',
      points: 10,
      errorExplanation: 'Use "can\'t have + past participle", not "can\'t has".',
    },
    {
      id: 'b2-u6-l2-e10',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: '"Can\'t have" and "couldn\'t have" can be used interchangeably for past impossibility.',
      correctAnswer: true,
      points: 10,
      explanation: 'Both forms express the same meaning - impossibility in the past.',
    },
  ],
};

const lesson3: Lesson = {
  id: 'b2-u6-l3',
  unitId: 'b2-u6',
  title: 'May/Might/Could have - Past Possibility',
  description: 'Express uncertainty and possibility about past events',
  order: 3,
  xpReward: 20,
  grammarPoint: 'may/might/could have + past participle = perhaps this happened',
  vocabularyWords: ['may have', 'might have', 'could have', 'perhaps', 'possibly', 'maybe', 'uncertain', 'speculation'],
  exercises: [
    {
      id: 'b2-u6-l3-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'What does "might have + past participle" express?',
      options: ['Possibility about the past', 'Certainty about the past', 'Obligation in the past', 'Ability in the past'],
      correctAnswer: 0,
      points: 10,
      explanation: '"Might have" expresses uncertainty or possibility about past events.',
    },
    {
      id: 'b2-u6-l3-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'I\'m not sure where he went. He ___ ___ ___ to the library. (might / go)',
      correctAnswer: 'might have gone',
      points: 10,
    },
    {
      id: 'b2-u6-l3-e3',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Which modal shows the LEAST certainty?',
      options: ['might have', 'must have', 'can\'t have', 'will have'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l3-e4',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Puede que hayan llegado tarde.',
      correctAnswer: 'They may have arrived late',
      acceptableAnswers: ['They might have arrived late', 'They could have arrived late'],
      points: 10,
    },
    {
      id: 'b2-u6-l3-e5',
      type: 'categorization',
      instruction: 'Classify by degree of certainty',
      categories: ['High certainty', 'Low certainty'],
      items: [
        { text: 'must have been', category: 'High certainty' },
        { text: 'might have been', category: 'Low certainty' },
        { text: 'can\'t have been', category: 'High certainty' },
        { text: 'could have been', category: 'Low certainty' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l3-e6',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['could', 'have', 'She', 'the', 'taken', 'wrong', 'turn'],
      correctOrder: [2, 0, 1, 4, 3, 5, 6],
      points: 10,
    },
    {
      id: 'b2-u6-l3-e7',
      type: 'context-completion',
      instruction: 'Choose the best option',
      context: 'I can\'t find my keys anywhere. I ___ them at work.',
      options: ['may have left', 'must have left', 'can\'t have left', 'should have left'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l3-e8',
      type: 'dialogue-completion',
      instruction: 'Complete the conversation',
      dialogue: [
        { speaker: 'A', text: 'Why didn\'t Sarah come to the party?' },
        { speaker: 'B', text: 'I don\'t know. She ___ sick.', isBlank: true },
      ],
      options: ['might have been', 'must have been', 'can\'t have been', 'should have been'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l3-e9',
      type: 'matching',
      instruction: 'Match the situations with appropriate speculations',
      pairs: [
        { left: 'The phone is ringing.', right: 'It could have been Mary.' },
        { left: 'The door is unlocked.', right: 'I may have forgotten to lock it.' },
        { left: 'He looks confused.', right: 'He might have taken the wrong bus.' },
        { left: 'The cake is gone.', right: 'Someone could have eaten it.' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l3-e10',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'She might has missed the train.',
      correctAnswer: 'She might have missed the train.',
      points: 10,
      errorExplanation: 'Use "might have + past participle", not "might has".',
    },
  ],
};

const lesson4: Lesson = {
  id: 'b2-u6-l4',
  unitId: 'b2-u6',
  title: 'Should have - Past Advice/Criticism',
  description: 'Express regret or criticism about past actions',
  order: 4,
  xpReward: 20,
  grammarPoint: 'should have + past participle = it was the right thing to do but didn\'t happen',
  vocabularyWords: ['should have', 'shouldn\'t have', 'regret', 'criticism', 'mistake', 'wrong decision', 'hindsight', 'error'],
  exercises: [
    {
      id: 'b2-u6-l4-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'What does "should have + past participle" express?',
      options: ['Regret or criticism about the past', 'Certainty about the past', 'Possibility in the past', 'Permission in the past'],
      correctAnswer: 0,
      points: 10,
      explanation: '"Should have" criticizes or regrets something that didn\'t happen.',
    },
    {
      id: 'b2-u6-l4-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'I failed the exam. I ___ ___ ___ harder. (should / study)',
      correctAnswer: 'should have studied',
      points: 10,
    },
    {
      id: 'b2-u6-l4-e3',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'You ___ ___ ___ so much. Now you feel sick. (shouldn\'t / eat)',
      correctAnswer: 'shouldn\'t have eaten',
      points: 10,
    },
    {
      id: 'b2-u6-l4-e4',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Deberías haber llamado antes.',
      correctAnswer: 'You should have called earlier',
      acceptableAnswers: ['You should have phoned earlier'],
      points: 10,
    },
    {
      id: 'b2-u6-l4-e5',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['should', 'have', 'We', 'left', 'earlier'],
      correctOrder: [2, 0, 1, 3, 4],
      points: 10,
    },
    {
      id: 'b2-u6-l4-e6',
      type: 'matching',
      instruction: 'Match the mistakes with appropriate criticisms',
      pairs: [
        { left: 'He got lost.', right: 'He should have used GPS.' },
        { left: 'She missed the flight.', right: 'She should have left earlier.' },
        { left: 'They failed the test.', right: 'They should have studied more.' },
        { left: 'I got sunburned.', right: 'I should have worn sunscreen.' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l4-e7',
      type: 'context-completion',
      instruction: 'Choose the best option',
      context: 'I told him a secret and he told everyone. I ___ him.',
      options: ['shouldn\'t have trusted', 'must have trusted', 'might have trusted', 'could have trusted'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l4-e8',
      type: 'dialogue-completion',
      instruction: 'Complete the conversation',
      dialogue: [
        { speaker: 'A', text: 'I have a terrible headache.' },
        { speaker: 'B', text: 'You ___ so much wine last night.', isBlank: true },
      ],
      options: ['shouldn\'t have drunk', 'must have drunk', 'might have drunk', 'could have drunk'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l4-e9',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'He should has told the truth.',
      correctAnswer: 'He should have told the truth.',
      points: 10,
      errorExplanation: 'Use "should have + past participle", not "should has".',
    },
    {
      id: 'b2-u6-l4-e10',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: '"Should have" is used to criticize or express regret about past actions.',
      correctAnswer: true,
      points: 10,
      explanation: '"Should have" indicates something was advisable but didn\'t happen.',
    },
  ],
};

const lesson5: Lesson = {
  id: 'b2-u6-l5',
  unitId: 'b2-u6',
  title: 'Ought to have - Past Expectation',
  description: 'Express expectations that were not met in the past',
  order: 5,
  xpReward: 20,
  grammarPoint: 'ought to have + past participle = similar to should have',
  vocabularyWords: ['ought to have', 'expectation', 'anticipated', 'supposed to', 'expected', 'duty', 'responsibility'],
  exercises: [
    {
      id: 'b2-u6-l5-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'What is the meaning of "ought to have"?',
      options: ['Similar to should have - expectation not met', 'Certainty about the past', 'Possibility in the past', 'Ability in the past'],
      correctAnswer: 0,
      points: 10,
      explanation: '"Ought to have" is similar to "should have", expressing unmet expectations.',
    },
    {
      id: 'b2-u6-l5-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'They ___ ___ ___ arrived by now. (ought / to / have / arrive)',
      correctAnswer: 'ought to have',
      points: 10,
    },
    {
      id: 'b2-u6-l5-e3',
      type: 'multiple-choice',
      instruction: 'Select the correct sentence',
      question: 'Which sentence is grammatically correct?',
      options: ['He ought to have been more careful.', 'He ought have been more careful.', 'He ought to has been more careful.', 'He ought been more careful.'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l5-e4',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Deberían haber terminado ya.',
      correctAnswer: 'They ought to have finished already',
      acceptableAnswers: ['They should have finished already'],
      points: 10,
    },
    {
      id: 'b2-u6-l5-e5',
      type: 'categorization',
      instruction: 'Classify these expressions',
      categories: ['Criticism/Regret', 'Deduction'],
      items: [
        { text: 'ought to have known', category: 'Criticism/Regret' },
        { text: 'must have known', category: 'Deduction' },
        { text: 'should have realized', category: 'Criticism/Regret' },
        { text: 'can\'t have known', category: 'Deduction' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l5-e6',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['ought', 'to', 'have', 'You', 'warned', 'me'],
      correctOrder: [3, 0, 1, 2, 4, 5],
      points: 10,
    },
    {
      id: 'b2-u6-l5-e7',
      type: 'context-completion',
      instruction: 'Choose the best option',
      context: 'The project is late. We ___ it weeks ago.',
      options: ['ought to have finished', 'must have finished', 'might have finished', 'could have finished'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l5-e8',
      type: 'dialogue-completion',
      instruction: 'Complete the conversation',
      dialogue: [
        { speaker: 'A', text: 'The meeting was a disaster.' },
        { speaker: 'B', text: 'We ___ better.', isBlank: true },
      ],
      options: ['ought to have prepared', 'must have prepared', 'might have prepared', 'can\'t have prepared'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l5-e9',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'She ought have told me the truth.',
      correctAnswer: 'She ought to have told me the truth.',
      points: 10,
      errorExplanation: '"Ought" is always followed by "to" + have + past participle.',
    },
    {
      id: 'b2-u6-l5-e10',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: '"Ought to have" is more formal than "should have".',
      correctAnswer: true,
      points: 10,
      explanation: '"Ought to have" is considered more formal and is less common in everyday speech.',
    },
  ],
};

const lesson6: Lesson = {
  id: 'b2-u6-l6',
  unitId: 'b2-u6',
  title: 'Would have - Hypothetical Past',
  description: 'Express hypothetical situations in the past',
  order: 6,
  xpReward: 20,
  grammarPoint: 'would have + past participle (in third conditional)',
  vocabularyWords: ['would have', 'hypothetical', 'conditional', 'imaginary', 'unreal', 'consequence', 'if only'],
  exercises: [
    {
      id: 'b2-u6-l6-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'When do we use "would have + past participle"?',
      options: ['For hypothetical past situations', 'For certainty about the past', 'For possibility in the past', 'For obligation in the past'],
      correctAnswer: 0,
      points: 10,
      explanation: '"Would have" is used in third conditional for unreal past situations.',
    },
    {
      id: 'b2-u6-l6-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'If I had known, I ___ ___ ___ you. (would / help)',
      correctAnswer: 'would have helped',
      points: 10,
    },
    {
      id: 'b2-u6-l6-e3',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Habría ido si hubiera sabido.',
      correctAnswer: 'I would have gone if I had known',
      acceptableAnswers: ['I would\'ve gone if I\'d known'],
      points: 10,
    },
    {
      id: 'b2-u6-l6-e4',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['would', 'have', 'She', 'succeeded', 'if', 'harder', 'tried', 'she', 'had'],
      correctOrder: [2, 0, 1, 3, 4, 7, 8, 6, 5],
      points: 10,
    },
    {
      id: 'b2-u6-l6-e5',
      type: 'matching',
      instruction: 'Match the if-clauses with result clauses',
      pairs: [
        { left: 'If I had studied harder,', right: 'I would have passed the exam.' },
        { left: 'If she had left earlier,', right: 'she would have caught the train.' },
        { left: 'If they had known,', right: 'they would have come.' },
        { left: 'If we had saved money,', right: 'we would have bought a house.' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l6-e6',
      type: 'context-completion',
      instruction: 'Choose the best option',
      context: 'If I had seen you, I ___ hello.',
      options: ['would have said', 'must have said', 'might have said', 'should have said'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l6-e7',
      type: 'dialogue-completion',
      instruction: 'Complete the conversation',
      dialogue: [
        { speaker: 'A', text: 'Why didn\'t you call me?' },
        { speaker: 'B', text: 'I ___ if I had had your number.', isBlank: true },
      ],
      options: ['would have called', 'must have called', 'should have called', 'might have called'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l6-e8',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'If they had invited me, I ___ ___ ___. (would / go)',
      correctAnswer: 'would have gone',
      points: 10,
    },
    {
      id: 'b2-u6-l6-e9',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'If I had known, I would has told you.',
      correctAnswer: 'If I had known, I would have told you.',
      points: 10,
      errorExplanation: 'Use "would have + past participle", not "would has".',
    },
    {
      id: 'b2-u6-l6-e10',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'Third conditional talks about unreal situations in the past.',
      correctAnswer: true,
      points: 10,
      explanation: 'Third conditional expresses hypothetical past situations that didn\'t happen.',
    },
  ],
};

const lesson7: Lesson = {
  id: 'b2-u6-l7',
  unitId: 'b2-u6',
  title: 'Needn\'t have vs Didn\'t need to',
  description: 'Learn the difference between needn\'t have and didn\'t need to',
  order: 7,
  xpReward: 20,
  grammarPoint: 'needn\'t have = did it but it was unnecessary / didn\'t need to = didn\'t do it',
  vocabularyWords: ['needn\'t have', 'didn\'t need to', 'unnecessary', 'not necessary', 'waste', 'required', 'optional'],
  exercises: [
    {
      id: 'b2-u6-l7-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'What does "needn\'t have + past participle" mean?',
      options: ['Did something that was unnecessary', 'Didn\'t do something', 'Had to do something', 'Wanted to do something'],
      correctAnswer: 0,
      points: 10,
      explanation: '"Needn\'t have" means you did it but it wasn\'t necessary.',
    },
    {
      id: 'b2-u6-l7-e2',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'What does "didn\'t need to" mean?',
      options: ['Didn\'t do it because it wasn\'t necessary', 'Did it but it was unnecessary', 'Had to do it', 'Forgot to do it'],
      correctAnswer: 0,
      points: 10,
      explanation: '"Didn\'t need to" means it wasn\'t necessary and you didn\'t do it.',
    },
    {
      id: 'b2-u6-l7-e3',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'I ___ ___ ___ so early. The meeting was cancelled. (needn\'t / arrive)',
      correctAnswer: 'needn\'t have arrived',
      points: 10,
      explanation: 'I arrived early but it was unnecessary.',
    },
    {
      id: 'b2-u6-l7-e4',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'We ___ ___ ___ wait because they were on time. (not / need / wait)',
      correctAnswer: 'didn\'t need to',
      points: 10,
      explanation: 'Waiting wasn\'t necessary and we didn\'t wait.',
    },
    {
      id: 'b2-u6-l7-e5',
      type: 'categorization',
      instruction: 'Classify these situations',
      categories: ['Did it (needn\'t have)', 'Didn\'t do it (didn\'t need to)'],
      items: [
        { text: 'I needn\'t have bought so much food.', category: 'Did it (needn\'t have)' },
        { text: 'She didn\'t need to cook dinner.', category: 'Didn\'t do it (didn\'t need to)' },
        { text: 'They needn\'t have worried.', category: 'Did it (needn\'t have)' },
        { text: 'He didn\'t need to work late.', category: 'Didn\'t do it (didn\'t need to)' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l7-e6',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'No necesitabas traer un regalo. (pero lo trajiste)',
      correctAnswer: 'You needn\'t have brought a gift',
      points: 10,
    },
    {
      id: 'b2-u6-l7-e7',
      type: 'context-completion',
      instruction: 'Choose the best option',
      context: 'I brought an umbrella but it didn\'t rain. I ___ it.',
      options: ['needn\'t have brought', 'didn\'t need to bring', 'must have brought', 'should have brought'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l7-e8',
      type: 'dialogue-completion',
      instruction: 'Complete the conversation',
      dialogue: [
        { speaker: 'A', text: 'Did you take a taxi?' },
        { speaker: 'B', text: 'No, I ___ because John gave me a ride.', isBlank: true },
      ],
      options: ['didn\'t need to', 'needn\'t have', 'must have', 'should have'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l7-e9',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'You needn\'t had worried about it.',
      correctAnswer: 'You needn\'t have worried about it.',
      points: 10,
      errorExplanation: 'Use "needn\'t have + past participle", not "needn\'t had".',
    },
    {
      id: 'b2-u6-l7-e10',
      type: 'matching',
      instruction: 'Match the situations with correct modal',
      pairs: [
        { left: 'I bought milk but we had some.', right: 'I needn\'t have bought milk.' },
        { left: 'The store was closed so I didn\'t shop.', right: 'I didn\'t need to go shopping.' },
        { left: 'I studied all night but the test was easy.', right: 'I needn\'t have studied so much.' },
        { left: 'The weather was good so I didn\'t take a coat.', right: 'I didn\'t need to take a coat.' },
      ],
      points: 10,
    },
  ],
};

const lesson8: Lesson = {
  id: 'b2-u6-l8',
  unitId: 'b2-u6',
  title: 'Must vs Have to - Present/Future',
  description: 'Understand the difference between must and have to',
  order: 8,
  xpReward: 20,
  grammarPoint: 'must = internal obligation / have to = external obligation',
  vocabularyWords: ['must', 'have to', 'obligation', 'necessity', 'rule', 'law', 'requirement', 'compulsory'],
  exercises: [
    {
      id: 'b2-u6-l8-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'What type of obligation does "must" express?',
      options: ['Internal - from the speaker', 'External - from rules or laws', 'Optional', 'Suggestions'],
      correctAnswer: 0,
      points: 10,
      explanation: '"Must" expresses obligation from the speaker\'s perspective.',
    },
    {
      id: 'b2-u6-l8-e2',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'What type of obligation does "have to" express?',
      options: ['External - from rules or laws', 'Internal - from the speaker', 'Suggestions', 'Possibilities'],
      correctAnswer: 0,
      points: 10,
      explanation: '"Have to" expresses external obligation from rules, laws, or circumstances.',
    },
    {
      id: 'b2-u6-l8-e3',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'You ___ see this movie! It\'s amazing! (speaker\'s opinion)',
      correctAnswer: 'must',
      points: 10,
    },
    {
      id: 'b2-u6-l8-e4',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'Employees ___ ___ wear a uniform. It\'s company policy. (have)',
      correctAnswer: 'have to',
      points: 10,
    },
    {
      id: 'b2-u6-l8-e5',
      type: 'categorization',
      instruction: 'Classify these obligations',
      categories: ['Internal (must)', 'External (have to)'],
      items: [
        { text: 'I must finish this today. (my decision)', category: 'Internal (must)' },
        { text: 'I have to wear a seatbelt. (law)', category: 'External (have to)' },
        { text: 'You must try this cake! (recommendation)', category: 'Internal (must)' },
        { text: 'Students have to pass the exam. (rule)', category: 'External (have to)' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l8-e6',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Tienes que ver a un médico. (es necesario)',
      correctAnswer: 'You have to see a doctor',
      acceptableAnswers: ['You must see a doctor'],
      points: 10,
    },
    {
      id: 'b2-u6-l8-e7',
      type: 'context-completion',
      instruction: 'Choose the best option',
      context: 'I ___ go to the bank today. I need to deposit money.',
      options: ['have to', 'must', 'should', 'might'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l8-e8',
      type: 'dialogue-completion',
      instruction: 'Complete the conversation',
      dialogue: [
        { speaker: 'A', text: 'Why are you leaving early?' },
        { speaker: 'B', text: 'I ___ pick up my kids from school. It\'s 3 PM.', isBlank: true },
      ],
      options: ['have to', 'must', 'might', 'should'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l8-e9',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: '"Must" and "have to" can often be used interchangeably.',
      correctAnswer: true,
      points: 10,
      explanation: 'While there is a subtle difference, they are often interchangeable in many contexts.',
    },
    {
      id: 'b2-u6-l8-e10',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'He musts finish his homework.',
      correctAnswer: 'He must finish his homework.',
      points: 10,
      errorExplanation: '"Must" doesn\'t take an -s in third person singular.',
    },
  ],
};

const lesson9: Lesson = {
  id: 'b2-u6-l9',
  unitId: 'b2-u6',
  title: 'Modal Verbs in Passive Voice',
  description: 'Learn to use modal verbs in passive constructions',
  order: 9,
  xpReward: 20,
  grammarPoint: 'modal + be + past participle / modal + have been + past participle',
  vocabularyWords: ['passive', 'be done', 'be seen', 'be found', 'be completed', 'be finished', 'construction'],
  exercises: [
    {
      id: 'b2-u6-l9-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'How do we form the passive with modal verbs?',
      options: ['modal + be + past participle', 'modal + been + past participle', 'modal + being + verb', 'modal + past participle'],
      correctAnswer: 0,
      points: 10,
      explanation: 'Present passive: modal + be + past participle (e.g., must be done).',
    },
    {
      id: 'b2-u6-l9-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'This work ___ ___ ___ today. (must / finish)',
      correctAnswer: 'must be finished',
      points: 10,
    },
    {
      id: 'b2-u6-l9-e3',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'How do we form past passive with modals?',
      options: ['modal + have been + past participle', 'modal + been + past participle', 'modal + be + past participle', 'modal + have + past participle'],
      correctAnswer: 0,
      points: 10,
      explanation: 'Past passive: modal + have been + past participle (e.g., must have been done).',
    },
    {
      id: 'b2-u6-l9-e4',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'The letter ___ ___ ___ ___ yesterday. (should / send)',
      correctAnswer: 'should have been sent',
      points: 10,
    },
    {
      id: 'b2-u6-l9-e5',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Esto debe hacerse inmediatamente.',
      correctAnswer: 'This must be done immediately',
      points: 10,
    },
    {
      id: 'b2-u6-l9-e6',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['should', 'be', 'The', 'report', 'completed', 'tomorrow'],
      correctOrder: [2, 3, 0, 1, 4, 5],
      points: 10,
    },
    {
      id: 'b2-u6-l9-e7',
      type: 'matching',
      instruction: 'Match active sentences with passive equivalents',
      pairs: [
        { left: 'You must finish this.', right: 'This must be finished.' },
        { left: 'They should have done it.', right: 'It should have been done.' },
        { left: 'Someone might have seen him.', right: 'He might have been seen.' },
        { left: 'We can solve this problem.', right: 'This problem can be solved.' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l9-e8',
      type: 'context-completion',
      instruction: 'Choose the best option',
      context: 'The documents ___ before the meeting.',
      options: ['should be prepared', 'should prepare', 'should preparing', 'should prepared'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l9-e9',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'This must be did immediately.',
      correctAnswer: 'This must be done immediately.',
      points: 10,
      errorExplanation: 'Use "be + past participle", not "be + past simple".',
    },
    {
      id: 'b2-u6-l9-e10',
      type: 'dialogue-completion',
      instruction: 'Complete the conversation',
      dialogue: [
        { speaker: 'A', text: 'When will the project be completed?' },
        { speaker: 'B', text: 'It ___ by Friday.', isBlank: true },
      ],
      options: ['should be finished', 'should finish', 'should finished', 'should finishing'],
      correctAnswer: 0,
      points: 10,
    },
  ],
};

const lesson10: Lesson = {
  id: 'b2-u6-l10',
  unitId: 'b2-u6',
  title: 'Modal Verbs for Speculation',
  description: 'Use modal verbs to speculate about present and future situations',
  order: 10,
  xpReward: 20,
  grammarPoint: 'Using modals to express different levels of certainty',
  vocabularyWords: ['speculation', 'assumption', 'guess', 'probably', 'possibly', 'presumably', 'likelihood', 'inference'],
  exercises: [
    {
      id: 'b2-u6-l10-e1',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Which modal shows the highest certainty about the present?',
      options: ['must', 'might', 'could', 'may'],
      correctAnswer: 0,
      points: 10,
      explanation: '"Must" shows the highest degree of certainty in speculation.',
    },
    {
      id: 'b2-u6-l10-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'He\'s not answering. He ___ be in a meeting. (strong certainty)',
      correctAnswer: 'must',
      points: 10,
    },
    {
      id: 'b2-u6-l10-e3',
      type: 'categorization',
      instruction: 'Classify by degree of certainty',
      categories: ['High certainty', 'Medium certainty', 'Low certainty'],
      items: [
        { text: 'must be', category: 'High certainty' },
        { text: 'might be', category: 'Low certainty' },
        { text: 'could be', category: 'Medium certainty' },
        { text: 'can\'t be', category: 'High certainty' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l10-e4',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Debe ser tarde.',
      correctAnswer: 'It must be late',
      points: 10,
    },
    {
      id: 'b2-u6-l10-e5',
      type: 'context-completion',
      instruction: 'Choose the best option',
      context: 'The lights are off. They ___ be home.',
      options: ['can\'t', 'must', 'should', 'would'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l10-e6',
      type: 'dialogue-completion',
      instruction: 'Complete the conversation',
      dialogue: [
        { speaker: 'A', text: 'Where\'s Tom?' },
        { speaker: 'B', text: 'I\'m not sure. He ___ be at the gym.', isBlank: true },
      ],
      options: ['might', 'must', 'can\'t', 'will'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l10-e7',
      type: 'matching',
      instruction: 'Match situations with appropriate speculations',
      pairs: [
        { left: 'She\'s wearing a coat.', right: 'It must be cold outside.' },
        { left: 'He\'s yawning.', right: 'He might be tired.' },
        { left: 'The office is empty.', right: 'Everyone must have left.' },
        { left: 'She\'s smiling.', right: 'She could be happy.' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l10-e8',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['must', 'be', 'She', 'very', 'proud'],
      correctOrder: [2, 0, 1, 3, 4],
      points: 10,
    },
    {
      id: 'b2-u6-l10-e9',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'He musts be at work now.',
      correctAnswer: 'He must be at work now.',
      points: 10,
      errorExplanation: '"Must" doesn\'t take an -s in third person.',
    },
    {
      id: 'b2-u6-l10-e10',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: '"Might" expresses more certainty than "must".',
      correctAnswer: false,
      points: 10,
      explanation: '"Must" expresses more certainty than "might".',
    },
  ],
};

const lesson11: Lesson = {
  id: 'b2-u6-l11',
  unitId: 'b2-u6',
  title: 'Degrees of Certainty',
  description: 'Master expressing different levels of certainty with modals',
  order: 11,
  xpReward: 20,
  grammarPoint: 'Scale: must > should > may/might/could > can\'t',
  vocabularyWords: ['certainty', 'probability', 'likelihood', 'doubtful', 'unlikely', 'definite', 'uncertain', 'confident'],
  exercises: [
    {
      id: 'b2-u6-l11-e1',
      type: 'categorization',
      instruction: 'Order from most to least certain',
      categories: ['100% certain', '90% certain', '50% certain', '10% certain'],
      items: [
        { text: 'must be true', category: '90% certain' },
        { text: 'might be true', category: '50% certain' },
        { text: 'can\'t be true', category: '100% certain' },
        { text: 'could be true', category: '50% certain' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l11-e2',
      type: 'fill-blank',
      instruction: 'Complete with the appropriate modal',
      question: 'Based on the evidence, he ___ be guilty. (very certain)',
      correctAnswer: 'must',
      points: 10,
    },
    {
      id: 'b2-u6-l11-e3',
      type: 'fill-blank',
      instruction: 'Complete with the appropriate modal',
      question: 'She ___ come to the party, but I\'m not sure. (uncertain)',
      correctAnswer: 'might',
      acceptableAnswers: ['may', 'could'],
      points: 10,
    },
    {
      id: 'b2-u6-l11-e4',
      type: 'multiple-choice',
      instruction: 'Select the correct answer',
      question: 'Which expresses the LEAST certainty?',
      options: ['might', 'must', 'should', 'will'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l11-e5',
      type: 'matching',
      instruction: 'Match the modals with certainty levels',
      pairs: [
        { left: 'must', right: '95% certain' },
        { left: 'should', right: '70% certain' },
        { left: 'might', right: '30% certain' },
        { left: 'can\'t', right: '95% certain (negative)' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l11-e6',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Debería estar en casa ahora. (probabilidad)',
      correctAnswer: 'He should be home now',
      acceptableAnswers: ['She should be home now'],
      points: 10,
    },
    {
      id: 'b2-u6-l11-e7',
      type: 'context-completion',
      instruction: 'Choose the best option',
      context: 'It\'s 10 PM and all the lights are on. They ___ still be working.',
      options: ['must', 'might', 'can\'t', 'shouldn\'t'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l11-e8',
      type: 'dialogue-completion',
      instruction: 'Complete the conversation',
      dialogue: [
        { speaker: 'A', text: 'Is that Tom over there?' },
        { speaker: 'B', text: 'It ___ be him. He\'s in another city.', isBlank: true },
      ],
      options: ['can\'t', 'must', 'might', 'should'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l11-e9',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: '"Should" expresses more certainty than "might".',
      correctAnswer: true,
      points: 10,
      explanation: '"Should" (70%) is more certain than "might" (30%).',
    },
    {
      id: 'b2-u6-l11-e10',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'She might must be tired.',
      correctAnswer: 'She must be tired.',
      points: 10,
      errorExplanation: 'Don\'t use two modals together. Choose one based on certainty level.',
    },
  ],
};

const lesson12: Lesson = {
  id: 'b2-u6-l12',
  unitId: 'b2-u6',
  title: 'Past Regrets and Criticism',
  description: 'Express regrets and criticisms about past actions comprehensively',
  order: 12,
  xpReward: 20,
  grammarPoint: 'Should have, ought to have, could have for regrets',
  vocabularyWords: ['regret', 'remorse', 'wish', 'if only', 'hindsight', 'mistake', 'missed opportunity', 'blame'],
  exercises: [
    {
      id: 'b2-u6-l12-e1',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'I ___ ___ ___ harder for the exam. Now I failed. (should / study)',
      correctAnswer: 'should have studied',
      points: 10,
    },
    {
      id: 'b2-u6-l12-e2',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Debería haber escuchado tu consejo.',
      correctAnswer: 'I should have listened to your advice',
      points: 10,
    },
    {
      id: 'b2-u6-l12-e3',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'You ___ ___ ___ him earlier. Now it\'s too late. (could / tell)',
      correctAnswer: 'could have told',
      points: 10,
    },
    {
      id: 'b2-u6-l12-e4',
      type: 'matching',
      instruction: 'Match the mistakes with regrets',
      pairs: [
        { left: 'I didn\'t save money.', right: 'I should have saved money.' },
        { left: 'She didn\'t apologize.', right: 'She should have apologized.' },
        { left: 'They didn\'t study.', right: 'They should have studied.' },
        { left: 'He didn\'t tell the truth.', right: 'He should have told the truth.' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l12-e5',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['should', 'have', 'I', 'been', 'more', 'careful'],
      correctOrder: [2, 0, 1, 3, 4, 5],
      points: 10,
    },
    {
      id: 'b2-u6-l12-e6',
      type: 'context-completion',
      instruction: 'Choose the best option',
      context: 'I lost my job. I ___ been late so often.',
      options: ['shouldn\'t have', 'should have', 'must have', 'might have'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l12-e7',
      type: 'dialogue-completion',
      instruction: 'Complete the conversation',
      dialogue: [
        { speaker: 'A', text: 'I regret not going to university.' },
        { speaker: 'B', text: 'Yes, you ___ gone. It\'s a great opportunity.', isBlank: true },
      ],
      options: ['should have', 'must have', 'might have', 'can\'t have'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l12-e8',
      type: 'categorization',
      instruction: 'Classify these expressions',
      categories: ['Positive regret (should have done)', 'Negative regret (shouldn\'t have done)'],
      items: [
        { text: 'should have tried', category: 'Positive regret (should have done)' },
        { text: 'shouldn\'t have quit', category: 'Negative regret (shouldn\'t have done)' },
        { text: 'should have saved', category: 'Positive regret (should have done)' },
        { text: 'shouldn\'t have lied', category: 'Negative regret (shouldn\'t have done)' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l12-e9',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'I should has told you sooner.',
      correctAnswer: 'I should have told you sooner.',
      points: 10,
      errorExplanation: 'Use "should have + past participle", not "should has".',
    },
    {
      id: 'b2-u6-l12-e10',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: '"Could have" can express regret about missed opportunities.',
      correctAnswer: true,
      points: 10,
      explanation: '"Could have" shows something was possible but didn\'t happen.',
    },
  ],
};

const lesson13: Lesson = {
  id: 'b2-u6-l13',
  unitId: 'b2-u6',
  title: 'Deduction about Present Situations',
  description: 'Make logical deductions about current situations',
  order: 13,
  xpReward: 20,
  grammarPoint: 'must be, can\'t be, might be + -ing for present situations',
  vocabularyWords: ['deduction', 'inference', 'conclusion', 'evidence', 'logical', 'reasoning', 'analysis', 'observation'],
  exercises: [
    {
      id: 'b2-u6-l13-e1',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'The phone is ringing. It ___ be John calling. (certainty)',
      correctAnswer: 'must',
      points: 10,
    },
    {
      id: 'b2-u6-l13-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'She\'s not at her desk. She ___ ___ on a break. (modal + be)',
      correctAnswer: 'must be',
      points: 10,
    },
    {
      id: 'b2-u6-l13-e3',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'Debe estar trabajando ahora.',
      correctAnswer: 'He must be working now',
      acceptableAnswers: ['She must be working now'],
      points: 10,
    },
    {
      id: 'b2-u6-l13-e4',
      type: 'context-completion',
      instruction: 'Choose the best option',
      context: 'I hear music from next door. They ___ having a party.',
      options: ['must be', 'can\'t be', 'shouldn\'t be', 'wouldn\'t be'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l13-e5',
      type: 'matching',
      instruction: 'Match observations with deductions',
      pairs: [
        { left: 'Her car is here.', right: 'She must be inside.' },
        { left: 'The lights are off.', right: 'They can\'t be home.' },
        { left: 'He\'s wearing a suit.', right: 'He must be going to work.' },
        { left: 'She\'s crying.', right: 'She must be upset.' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l13-e6',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['must', 'be', 'They', 'very', 'busy'],
      correctOrder: [2, 0, 1, 3, 4],
      points: 10,
    },
    {
      id: 'b2-u6-l13-e7',
      type: 'dialogue-completion',
      instruction: 'Complete the conversation',
      dialogue: [
        { speaker: 'A', text: 'Look, all the windows are open.' },
        { speaker: 'B', text: 'It ___ be hot in there.', isBlank: true },
      ],
      options: ['must', 'can\'t', 'might', 'would'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l13-e8',
      type: 'categorization',
      instruction: 'Classify these deductions',
      categories: ['Positive deduction (must be)', 'Negative deduction (can\'t be)'],
      items: [
        { text: 'It must be expensive.', category: 'Positive deduction (must be)' },
        { text: 'It can\'t be true.', category: 'Negative deduction (can\'t be)' },
        { text: 'He must be joking.', category: 'Positive deduction (must be)' },
        { text: 'She can\'t be serious.', category: 'Negative deduction (can\'t be)' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l13-e9',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'He must being tired.',
      correctAnswer: 'He must be tired.',
      points: 10,
      errorExplanation: 'Use "must be + adjective", not "must being".',
    },
    {
      id: 'b2-u6-l13-e10',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'We can use "must be + -ing" for present continuous deductions.',
      correctAnswer: true,
      points: 10,
      explanation: '"Must be working" shows a deduction about an action in progress.',
    },
  ],
};

const lesson14: Lesson = {
  id: 'b2-u6-l14',
  unitId: 'b2-u6',
  title: 'Common Mistakes with Modal Verbs',
  description: 'Identify and correct common errors with modal verbs',
  order: 14,
  xpReward: 20,
  grammarPoint: 'Avoiding common modal verb errors',
  vocabularyWords: ['error', 'mistake', 'incorrect', 'wrong', 'correction', 'grammar', 'accuracy', 'common'],
  exercises: [
    {
      id: 'b2-u6-l14-e1',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'He must to go now.',
      correctAnswer: 'He must go now.',
      points: 10,
      errorExplanation: 'Modal verbs are followed by bare infinitive (without "to").',
    },
    {
      id: 'b2-u6-l14-e2',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'She can has done it.',
      correctAnswer: 'She can have done it.',
      points: 10,
      errorExplanation: 'Use "can have + past participle", not "can has".',
    },
    {
      id: 'b2-u6-l14-e3',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'They must finished by now.',
      correctAnswer: 'They must have finished by now.',
      points: 10,
      errorExplanation: 'Use "must have + past participle" for past deduction.',
    },
    {
      id: 'b2-u6-l14-e4',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'I should to study more.',
      correctAnswer: 'I should study more.',
      points: 10,
      errorExplanation: 'Modal verbs don\'t take "to" before the main verb.',
    },
    {
      id: 'b2-u6-l14-e5',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'He musts be tired.',
      correctAnswer: 'He must be tired.',
      points: 10,
      errorExplanation: 'Modal verbs don\'t take -s in third person singular.',
    },
    {
      id: 'b2-u6-l14-e6',
      type: 'multiple-choice',
      instruction: 'Select the correct sentence',
      question: 'Which sentence is correct?',
      options: ['She might have gone.', 'She might has gone.', 'She might went.', 'She might have go.'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l14-e7',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'We will must leave early.',
      correctAnswer: 'We must leave early.',
      points: 10,
      errorExplanation: 'Don\'t use two modal verbs together.',
    },
    {
      id: 'b2-u6-l14-e8',
      type: 'categorization',
      instruction: 'Classify these sentences',
      categories: ['Correct', 'Incorrect'],
      items: [
        { text: 'She must be tired.', category: 'Correct' },
        { text: 'He can to swim.', category: 'Incorrect' },
        { text: 'They should have left.', category: 'Correct' },
        { text: 'I musts go now.', category: 'Incorrect' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l14-e9',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'You should have to call me.',
      correctAnswer: 'You should have called me.',
      points: 10,
      errorExplanation: 'Don\'t mix "should have" with "have to".',
    },
    {
      id: 'b2-u6-l14-e10',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'Modal verbs are followed by the bare infinitive (without "to").',
      correctAnswer: true,
      points: 10,
      explanation: 'Exception: "ought to" - but most modals don\'t use "to".',
    },
  ],
};

const lesson15: Lesson = {
  id: 'b2-u6-l15',
  unitId: 'b2-u6',
  title: 'Comprehensive Modal Verbs Review',
  description: 'Review all advanced uses of modal verbs',
  order: 15,
  xpReward: 20,
  grammarPoint: 'Complete review of advanced modal verb usage',
  vocabularyWords: ['comprehensive', 'review', 'summary', 'practice', 'mastery', 'proficiency', 'advanced', 'complete'],
  exercises: [
    {
      id: 'b2-u6-l15-e1',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'She ___ ___ ___ the exam. She studied very hard. (certainty - past)',
      correctAnswer: 'must have passed',
      points: 10,
    },
    {
      id: 'b2-u6-l15-e2',
      type: 'fill-blank',
      instruction: 'Complete the sentence',
      question: 'You ___ ___ ___ me. I was waiting for your call. (criticism)',
      correctAnswer: 'should have called',
      points: 10,
    },
    {
      id: 'b2-u6-l15-e3',
      type: 'translation',
      instruction: 'Translate to English',
      question: 'No puede haber sido fácil.',
      correctAnswer: 'It can\'t have been easy',
      points: 10,
    },
    {
      id: 'b2-u6-l15-e4',
      type: 'context-completion',
      instruction: 'Choose the best option',
      context: 'The lights are on. Someone ___ still be working.',
      options: ['must', 'can\'t', 'needn\'t', 'would'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l15-e5',
      type: 'matching',
      instruction: 'Match the modal uses with examples',
      pairs: [
        { left: 'Past deduction', right: 'must have been' },
        { left: 'Past criticism', right: 'should have done' },
        { left: 'Past possibility', right: 'might have gone' },
        { left: 'Past impossibility', right: 'can\'t have been' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l15-e6',
      type: 'categorization',
      instruction: 'Classify by function',
      categories: ['Deduction', 'Criticism/Regret', 'Speculation'],
      items: [
        { text: 'must have been', category: 'Deduction' },
        { text: 'should have gone', category: 'Criticism/Regret' },
        { text: 'might be', category: 'Speculation' },
        { text: 'can\'t have done', category: 'Deduction' },
      ],
      points: 10,
    },
    {
      id: 'b2-u6-l15-e7',
      type: 'word-order',
      instruction: 'Put the words in the correct order',
      words: ['should', 'have', 'We', 'been', 'more', 'prepared'],
      correctOrder: [2, 0, 1, 3, 4, 5],
      points: 10,
    },
    {
      id: 'b2-u6-l15-e8',
      type: 'dialogue-completion',
      instruction: 'Complete the conversation',
      dialogue: [
        { speaker: 'A', text: 'Where\'s John?' },
        { speaker: 'B', text: 'He ___ have left already. His coat is gone.', isBlank: true },
      ],
      options: ['must', 'can\'t', 'should', 'would'],
      correctAnswer: 0,
      points: 10,
    },
    {
      id: 'b2-u6-l15-e9',
      type: 'error-correction',
      instruction: 'Find and correct the error',
      sentence: 'They might has forgotten about the meeting.',
      correctAnswer: 'They might have forgotten about the meeting.',
      points: 10,
      errorExplanation: 'Use "might have + past participle", not "might has".',
    },
    {
      id: 'b2-u6-l15-e10',
      type: 'true-false',
      instruction: 'Is this statement correct?',
      statement: 'Modal verbs can express different degrees of certainty about past and present.',
      correctAnswer: true,
      points: 10,
      explanation: 'Modals range from high certainty (must) to low certainty (might).',
    },
  ],
};

export const unit6: Unit = {
  id: 'b2-u6',
  levelId: 'b2',
  title: 'Modal Verbs Advanced',
  description: 'Master advanced uses of modal verbs for deduction, speculation, and criticism',
  order: 6,
  totalLessons: 15,
  icon: '🎭',
  lessons: [
    lesson1,
    lesson2,
    lesson3,
    lesson4,
    lesson5,
    lesson6,
    lesson7,
    lesson8,
    lesson9,
    lesson10,
    lesson11,
    lesson12,
    lesson13,
    lesson14,
    lesson15,
  ],
};
